<html>
    <head>
        <title>WebWork - 
        Downloading and installing WebWork
         </title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <p>For this lesson, you need to have a Servlet container set up and know how to create a web application. If you don't, we suggest you learn about  <a href="http://jakarta.apache.org/tomcat/" title="Visit page outside Confluence">Apache Tomcat</a>, which is a free Servlet container from the Apache Jakarta Project, or Resin, from <a href="http://www.caucho.com/" title="Visit page outside Confluence">Caucho Technology</a>, which is free for noncommercial use.</p>

<div class="information-block" align='center'><div class='informationMacroPadding'><table cellpadding='5' width='85%' cellspacing='0' class='infoMacro' border='0'><tr><td width='16' valign='top'><img src="/images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b class="strong">Notation</b><br />
<p>Throughout these lessons, we'll assume that your web application root is the directory [webapp], and that your Java source files are kept in [src].</p></td></tr></table></div></div>

<p>To install WebWork in a web application: </p>

<ol>
	<li>Download WebWork. The current version can be found at <a href="http://www.opensymphony.com/webwork/" title="Visit page outside Confluence">WebWork's home page</a>. This tutorial is based on version 2.2</li>
	<li>Set up an empty web application. For example, if you are using Tomcat, this will have something like the following directories (the directory "webwork-lessons" is referred to as [webapp] in these lessons):
<div class="code"><div class="codeContent">
<pre class="code-java">[the tomcat root directory]
\|_webapps
  \|_webwork-lessons
    \|_WEB-INF
      \|_classes
      \|_lib</pre>
</div></div></li>
	<li>Copy the required WebWork libraries to your web application:</li>
</ol>
<ul class="alternate" type="square">
	<li>copy <tt>webwork-2.2.jar</tt> to <tt>[webapp]/WEB-INF/lib</tt> ,</li>
	<li>copy <tt>lib/&#42;.jar</tt> to <tt>[webapp]/WEB-INF/lib</tt>.</li>
</ul>
<ol>
	<li>Configure <tt>[webapp]/WEB-INF/web.xml</tt>, and create <tt>[webapp]/WEB-INF/classes/xwork.xml</tt> and <tt>[webapp]/WEB-INF/classes/validators.xml</tt>, as described below.</li>
</ol>


<h3><a name="DownloadingandinstallingWebWork-Thisisthebareminimumrequiredtobeginbuildingthesampleapplications">This is the bare minimum required to begin building the sample applications</a></h3>
<table class='confluenceTable'>
<tr>
<th class='confluenceTh'>Filename</th>
<th class='confluenceTh'>Description</th>
</tr>
<tr>
<td class='confluenceTd'>xwork.jar</td>
<td class='confluenceTd'>XWork library on which WebWork is built</td>
</tr>
<tr>
<td class='confluenceTd'>oscore.jar</td>
<td class='confluenceTd'>OSCore, a general-utility library from OpenSymphony</td>
</tr>
<tr>
<td class='confluenceTd'>ongl.jar</td>
<td class='confluenceTd'>Object Graph Navigation Language (OGNL), the expression language used<br/>
throughout WebWork</td>
</tr>
<tr>
<td class='confluenceTd'>velocity-dep.jar</td>
<td class='confluenceTd'>Velocity library with dependencies</td>
</tr>
<tr>
<td class='confluenceTd'>commons-logging.jar</td>
<td class='confluenceTd'>Commons logging, which WebWork uses to support transparently logging to<br/>
either Log4J or JDK 1.4+</td>
</tr>
<tr>
<td class='confluenceTd'>web.xml</td>
<td class='confluenceTd'>J2EE web application configuration file that defines the servlets, JSP tag<br/>
libraries, and so on for your web application</td>
</tr>
<tr>
<td class='confluenceTd'>xwork.xml</td>
<td class='confluenceTd'>WebWork configuration file that defines the actions, results, and interceptors<br/>
for your application</td>
</tr>
</table>


<div class="information-block" align='center'><div class='informationMacroPadding'><table cellpadding='5' width='85%' cellspacing='0' class='warningMacro' border='0'><tr><td width='16' valign='top'><img src="/images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b class="strong">WebWork jar name</b><br />
<p>If you have a later version of WebWork than 2.1.7, the WebWork jar will not be named webwork-2.2.jar. Be sure to replace all occurrences of this jar's name below with the name of the jar you are using.</p></td></tr></table></div></div>

<h3><a name="DownloadingandinstallingWebWork-web.xml%3A">web.xml:</a></h3>

<p>Create the following <tt>web.xml</tt> file in <tt>[webapp]/WEB-INF</tt>. If you already have a <tt>web.xml</tt> file, just add the content of the &lt;web-app&gt; tag below to your existing &lt;web-app&gt; tag.</p>

<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;?xml version=<span class="code-quote">"1.0"</span>?&gt;</span>
&lt;!DOCTYPE web-app PUBLIC <span class="code-quote">"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"</span>
<span class="code-quote">"http://java.sun.com/dtd/web-app_2_3.dtd"</span>&gt;

<span class="code-tag">&lt;web-app&gt;</span>
	<span class="code-tag">&lt;display-name&gt;</span>My WebWork Application<span class="code-tag">&lt;/display-name&gt;</span>
	<span class="code-tag">&lt;servlet&gt;</span>
		<span class="code-tag">&lt;servlet-name&gt;</span>webwork<span class="code-tag">&lt;/servlet-name&gt;</span>
		<span class="code-tag">&lt;servlet-class&gt;</span>com.opensymphony.webwork.dispatcher.ServletDispatcher<span class="code-tag">&lt;/servlet-class&gt;</span>
		<span class="code-tag">&lt;load-on-startup&gt;</span>1<span class="code-tag">&lt;/load-on-startup&gt;</span>
	<span class="code-tag">&lt;/servlet&gt;</span>
	<span class="code-tag">&lt;servlet-mapping&gt;</span>
		<span class="code-tag">&lt;servlet-name&gt;</span>webwork<span class="code-tag">&lt;/servlet-name&gt;</span>
		<span class="code-tag">&lt;url-pattern&gt;</span>*.action<span class="code-tag">&lt;/url-pattern&gt;</span>
	<span class="code-tag">&lt;/servlet-mapping&gt;</span>
	<span class="code-tag">&lt;taglib&gt;</span>
		<span class="code-tag">&lt;taglib-uri&gt;</span>webwork<span class="code-tag">&lt;/taglib-uri&gt;</span>
		<span class="code-tag">&lt;taglib-location&gt;</span>/WEB-INF/lib/webwork-2.2.jar<span class="code-tag">&lt;/taglib-location&gt;</span>
	<span class="code-tag">&lt;/taglib&gt;</span>
<span class="code-tag">&lt;/web-app&gt;</span></pre>
</div></div>

<p>This registers <tt>ServletDispatcher</tt> as a servlet, and maps it to the suffix <tt>&#42;.action</tt>. </p>

<blockquote><p>Read more: <a href="web.xml.html" title="web.xml">web.xml</a></p></blockquote>

<h3><a name="DownloadingandinstallingWebWork-xwork.xml%3A">xwork.xml:</a></h3>

<p>Create the following file <tt>xwork.xml</tt> in <tt>[webapp]/WEB-INF/classes/</tt>.</p>

<div class="code"><div class="codeContent">
<pre class="code-xml">&lt;!DOCTYPE xwork PUBLIC <span class="code-quote">"-//OpenSymphony Group//XWork 1.0//EN"</span> 
<span class="code-quote">"http://www.opensymphony.com/xwork/xwork-1.0.dtd"</span>&gt;

<span class="code-tag">&lt;xwork&gt;</span>
	<span class="code-tag"><span class="code-comment">&lt;!-- Include webwork defaults (from WebWork JAR). --&gt;</span></span>
	<span class="code-tag">&lt;include file=<span class="code-quote">"webwork-default.xml"</span> /&gt;</span>
	
	<span class="code-tag"><span class="code-comment">&lt;!-- Configuration for the default package. --&gt;</span></span>
	<span class="code-tag">&lt;package name=<span class="code-quote">"default"</span> extends=<span class="code-quote">"webwork-default"</span>&gt;</span>
	<span class="code-tag">&lt;/package&gt;</span>
<span class="code-tag">&lt;/xwork&gt;</span></pre>
</div></div>

<p>For now, this xwork.xml does only two things:</p>

<ul>
	<li>It informs WebWork that it should import the configuration information from <tt>webwork-default.xml</tt>. (This file is located at the root of the <tt>webwork-2.2.jar</tt>, so it is sure to be found.)</li>
</ul>


<ul>
	<li>It defines a default package (with the &lt;package&gt; section) where WebWork elements like actions, results and interceptors are registered.</li>
</ul>


<blockquote><p>Read more: <a href="xwork.xml.html" title="xwork.xml">xwork.xml</a></p></blockquote>


<h3><a name="DownloadingandinstallingWebWork-validators.xml%3A">validators.xml:</a></h3>

<p>Create a file <tt>validators.xml</tt> in <tt>[webapp]/WEB-INF/classes/</tt> with the following content:</p>

<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;validators&gt;</span> 
	&lt;validator name=<span class="code-quote">"required"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.RequiredFieldValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"requiredstring"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.RequiredStringValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"int"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.IntRangeFieldValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"date"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.DateRangeFieldValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"expression"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.ExpressionValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"fieldexpression"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.FieldExpressionValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"email"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.EmailValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"url"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.URLValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"visitor"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.VisitorFieldValidator"</span>/&gt; 
	&lt;validator name=<span class="code-quote">"conversion"</span>
		class=<span class="code-quote">"com.opensymphony.xwork.validator.validators.ConversionErrorFieldValidator"</span>/&gt; 
<span class="code-tag">&lt;/validators&gt;</span></pre>
</div></div>

<p>This file defines the validators used, for example, for validating html form fields.</p>

<blockquote><p>Read more: <a href="Validation.html" title="Validation">Validation</a></p></blockquote>

<hr />

<p><a href="Lesson 2 - An html form with no data.html" title="Lesson 2 - An html form with no data">Next Lesson</a></p>

                    			    </td>
		    </tr>
	    </table>
    </body>
</html>
