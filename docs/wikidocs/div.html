<html>
    <head>
        <title>WebWork - 
        div
         </title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <h1><a name="div-Description">Description</a></h1>
<p>The div tag is primarily an AJAX tag, providing a remote call from the current page to update a section
of content without having to refresh the entire page.<p/></p>

<p>It creates a HTML &lt;DIV /&gt; that obtains it's content via a remote XMLHttpRequest call
via the dojo framework.<p/></p>

<p>If a "listenTopics" is supplied, it will listen to that topic and refresh it's content when any message
is received.<p/></p>


<h1><a name="div-Parameters">Parameters</a></h1>
<p><table width="100%">
<tr></p>

<p><th align="left" valign="top"><h4>Name</h4></th>
<th align="left" valign="top"><h4>Required</h4></th>
<th align="left" valign="top"><h4>Default</h4></th>
<th align="left" valign="top"><h4>Type</h4></th>
<th align="left" valign="top"><h4>Description</h4></th></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">updateFreq</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">0</td></p>

<p><!-- Type -->
<td align="left" valign="top">Integer</td></p>

<p><!-- Description -->
<td align="left" valign="top">How often to re-fetch the content (in milliseconds)</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">delay</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">0</td></p>

<p><!-- Type -->
<td align="left" valign="top">Integer</td></p>

<p><!-- Description -->
<td align="left" valign="top">How long to wait before fetching the content (in milliseconds)</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">loadingText</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The text to display to the user while the new content is being fetched (especially good if the content will take awhile)</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">listenTopics</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Topic name to listen to (comma delimited), that will cause the DIV's content to be re-fetched</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">href</td></p>

<p><!-- Required -->
<td align="left" valign="top"><b>true</b></td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The URL to call to obtain the content</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">errorText</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The text to display to the user if the is an error fetching the content</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">showErrorTransportText</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">true/false - when to show the error message as content when the URL had problems</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">afterLoading</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Javascript code that will be executed after the content has been fetched</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">openTemplate</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set template to use for opening the rendered html.</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">theme</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The theme (other than default) to use for renedring the element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">template</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The template (other than default) to use for renedring the element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">cssClass</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The css class to use for element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">cssStyle</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The css style definitions for element ro use</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">disabled</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html disabled attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">label</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Label expression used for rendering a element specific label</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">labelPosition</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">left</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">define label position of form element (top/left)</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">labelposition</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">deprecated.</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">name</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">The name to set for element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">required</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">false</td></p>

<p><!-- Type -->
<td align="left" valign="top">Boolean</td></p>

<p><!-- Description -->
<td align="left" valign="top">If set to true, the rendered element will indicate that input is required</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">tabindex</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html tabindex attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">value</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Preset the value of input element.</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onclick</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onclick attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">ondblclick</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html ondblclick attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onmousedown</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onmousedown attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onmouseup</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onmouseup attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onmouseover</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onmouseover attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onmousemove</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onmousemove attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onmouseout</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onmouseout attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onfocus</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onfocus attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onblur</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onblur attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onkeypress</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onkeypress attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onkeydown</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onkeydown attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onkeyup</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onkeyup attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onselect</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onselect attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">onchange</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">Set the html onchange attribute on rendered html element</td></p>

<p></tr></p>

<p><tr>
<!-- Attribute name -->
<td align="left" valign="top">id</td></p>

<p><!-- Required -->
<td align="left" valign="top">false</td></p>

<p><!-- Default -->
<td align="left" valign="top">&nbsp;</td></p>

<p><!-- Type -->
<td align="left" valign="top">Object/String</td></p>

<p><!-- Description -->
<td align="left" valign="top">id for referencing element. For UI and form tags it will be used as HTML id attribute</td></p>

<p></tr></p>

<p></table></p>


<h1><a name="div-Usage">Usage</a></h1>
<div class="information-block" align='center'><div class='informationMacroPadding'><table cellpadding='5' width='85%' cellspacing='0' class='noteMacro' border='0'><tr><td width='16' valign='top'><img src="/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>Be sure to setup the page containing this tag to be <a href="Configured for AJAX.html" title="Configured for AJAX">Configured for AJAX</a> </td></tr></table></div></div>	

<h2><a name="div-BasicFunctions">Basic Functions</a></h2>
<p>The remote DIV is handy for a few basic use cases. </p>

<h3><a name="div-Getremotedataandrefresh">Get remote data and refresh</a></h3>
<p>First in its simplest form as mentioned above, it can load load its contents from a remote div. Additionally it can refresh them periodically.  So... whats that do for you? Well say for example want to show the latest weather from weather.com on your page and update it every 1 minutes.  You could do this like this:</p>
<div class="code"><div class="codeContent">
<pre class="code-java">&lt;ww:div
            id=<span class="code-quote">"weather"</span>
            cssStyle=<span class="code-quote">"border: 1px solid yellow;"</span>
            href=<span class="code-quote">"http:<span class="code-comment">//www.weather.com/address_to_feed"</span>
</span>            theme=<span class="code-quote">"ajax"</span>
            delay=<span class="code-quote">"2000"</span>
            updateFreq=<span class="code-quote">"60000"</span>
            errorText=<span class="code-quote">"There was an error"</span>
            loadingText=<span class="code-quote">"loading..."</span>&gt;Initial Content
    &lt;/ww:div&gt;</pre>
</div></div>

<h3><a name="div-Initializedivwithremotedata">Initialize div with remote data</a></h3>
<p>OK that was fun, but lets say that you want to initially load the data from a remote page then refresh it. This example contrasts to the above example in that the initial data is NOT just 'Initial Content'.<br/>
Here is how you can do that:</p>
<div class="code"><div class="codeContent">
<pre class="code-java">&lt;ww:div href=<span class="code-quote">"/listPeople.action"</span> theme=<span class="code-quote">"ajax"</span> errorText=<span class="code-quote">"error opps"</span>
          loadingText=<span class="code-quote">"loading..."</span> id=<span class="code-quote">"cart-body"</span> &gt;
      &lt;ww:action namespace=<span class="code-quote">"" name="</span>listPeople<span class="code-quote">" executeResult="</span><span class="code-keyword">true</span>" /&gt;
  &lt;/ww:div&gt;</pre>
</div></div>
<p>Just stick an action in the body... that will be the initial data</p>

<h3><a name="div-Bealistenerfordata">Be a listener for data</a></h3>
<p>Perhaps the coolest aspect of the remote div is its ability to be a listener in a pub-sub model. Wow you say... HTML pages dont have a pub-sub model. That used to be true but... WebWork has turned that notion upside down... read about our rich Decouped Components via Pub and Sub.   So.... back to the example... the div can listen to topics in a pub sub model... did we mention how cool that is yet?  Just use the  listenTopics attibute to specify one or more topics(comma delimted) that this div should listen for to trigger a refresh.</p>
<div class="code"><div class="codeContent">
<pre class="code-java">&lt;ww:div
        id=<span class="code-quote">"three"</span>
        cssStyle=<span class="code-quote">"border: 1px solid yellow;"</span>
        href=<span class="code-quote">"/ShowThankYouEmail.action"</span>
        theme=<span class="code-quote">"ajax"</span>
        listenTopics=<span class="code-quote">"user_downloads_webwork, user_loves_webwork"</span>
        delay=<span class="code-quote">"1000"</span>&gt;Initial Content&lt;/ww:div&gt;

&lt;ww:a
        id=<span class="code-quote">"link1"</span>
        theme=<span class="code-quote">"ajax"</span>
        href=<span class="code-quote">"/DownloadWebWork.action"</span>
        notifyTopics=<span class="code-quote">"user_downloads_webwork, the_world_is_a_better_place"</span>
        errorText=<span class="code-quote">"An Error ocurred"</span>&gt;Download&lt;/ww:a&gt;</pre>
</div></div>
<p>See how the ww:a and the ww:div are loosely coupled via a pub-sub model??? When users click on the hyperlink called Download, the WebWork anchor publishes a message to two topics, one called user_downloads_webwork and the other called  the_world_is_a_better_place.  Our div listens to the first topic as well as a topic called user_loves_webwork.  So using this model... anytime a user downloads webwork... or a user loves webwork... our website will personally thank them!!! Did I mention how cool this is?</p>


<h2><a name="div-AdditionalFunctions">Additional Functions</a></h2>

<p> There are also javascript functions to refresh the content, stop and start the refreshing of the component. For the remote div with the component id "remotediv1":</p>

<p>To start refreshing use the javascript:</p>
<div class="code"><div class="codeContent">
<pre class="code-java">remotediv1.start();</pre>
</div></div>    

<p>To stop refreshing use the javascript:</p>
<div class="code"><div class="codeContent">
<pre class="code-java">remotediv1.stop();</pre>
</div></div>    

<p>To refresh the content use the javascript:</p>
<div class="code"><div class="codeContent">
<pre class="code-java">remotediv1.bind();</pre>
</div></div>    

                    			    </td>
		    </tr>
	    </table>
    </body>
</html>
