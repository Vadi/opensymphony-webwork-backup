<html>
    <head>
        <title>WebWork - 
        Using Field Validators
         </title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <h1><a name="UsingFieldValidators-Description"></a>Description</h1>
<p>The followings show a simple example using Webwork's Field Validators</p>

<h2><a name="UsingFieldValidators-Step1"></a>Step 1</h2>
<p>Create the jsp page</p>
<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;h3&gt;</span>All Field Errors Will Appear Here<span class="code-tag">&lt;/h3&gt;</span>
<span class="code-tag">&lt;ww:fielderror /&gt;</span>
<span class="code-tag">&lt;hr/&gt;</span>

<span class="code-tag">&lt;h3&gt;</span>Field Error due to 'Required String Validator Field' Will Appear Here<span class="code-tag">&lt;/h3&gt;</span>
<span class="code-tag">&lt;ww:fielderror&gt;</span>
	<span class="code-tag">&lt;ww:param value=<span class="code-quote">"%{'requiredStringValidatorField'}"</span> /&gt;</span>
<span class="code-tag">&lt;/ww:fielderror&gt;</span>
<span class="code-tag">&lt;hr/&gt;</span>

<span class="code-tag">&lt;h3&gt;</span>Field Error due to 'String Length Validator Field' Will Appear Here<span class="code-tag">&lt;/h3&gt;</span>
<span class="code-tag">&lt;ww:fielderror&gt;</span>
	<span class="code-tag">&lt;ww:param&gt;</span>stringLengthValidatorField<span class="code-tag">&lt;/ww:param&gt;</span>
<span class="code-tag">&lt;/ww:fielderror&gt;</span>
<span class="code-tag">&lt;hr/&gt;</span>
	
<span class="code-tag">&lt;ww:form action=<span class="code-quote">"submitFieldValidatorsExamples"</span> namespace=<span class="code-quote">"/validation"</span> method=<span class="code-quote">"POST"</span> theme=<span class="code-quote">"xhtml"</span>&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"Required Validator Field"</span> name=<span class="code-quote">"requiredValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"Required String Validator Field"</span> name=<span class="code-quote">"requiredStringValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"Integer Validator Field"</span> name=<span class="code-quote">"integerValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"Date Validator Field"</span> name=<span class="code-quote">"dateValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"Email Validator Field"</span> name=<span class="code-quote">"emailValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"URL Validator Field"</span> name=<span class="code-quote">"urlValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"String Length Validator Field"</span> name=<span class="code-quote">"stringLengthValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"Regex Validator Field"</span> name=<span class="code-quote">"regexValidatorField"</span>/&gt;</span>
	<span class="code-tag">&lt;ww:textfield label=<span class="code-quote">"Field Expression Validator Field"</span> name=<span class="code-quote">"fieldExpressionValidatorField"</span> /&gt;</span>
	<span class="code-tag">&lt;ww:submit label=<span class="code-quote">"Submit"</span> /&gt;</span>
<span class="code-tag">&lt;/ww:form&gt;</span></pre>
</div></div>


<h2><a name="UsingFieldValidators-Step2"></a>Step 2</h2>
<p>Create the actoin class</p>
<div class="code"><div class="codeContent">
<pre class="code-java"><span class="code-keyword">public</span> class FieldValidatorsExampleAction <span class="code-keyword">extends</span> AbstractValidationActionSupport {
	
	<span class="code-keyword">private</span> <span class="code-object">String</span> requiredValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> <span class="code-object">String</span> requiredStringValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> <span class="code-object">Integer</span> integerValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> Date dateValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> <span class="code-object">String</span> emailValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> <span class="code-object">String</span> urlValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> <span class="code-object">String</span> stringLengthValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> <span class="code-object">String</span> regexValidatorField = <span class="code-keyword">null</span>;
	<span class="code-keyword">private</span> <span class="code-object">String</span> fieldExpressionValidatorField = <span class="code-keyword">null</span>;
	
	
	<span class="code-keyword">private</span> <span class="code-object">String</span> randomNumber = <span class="code-keyword">null</span>;
	
	
	<span class="code-keyword">public</span> Date getDateValidatorField() {
		<span class="code-keyword">return</span> dateValidatorField;
	}
	<span class="code-keyword">public</span> void setDateValidatorField(Date dateValidatorField) {
		<span class="code-keyword">this</span>.dateValidatorField = dateValidatorField;
	}
	<span class="code-keyword">public</span> <span class="code-object">String</span> getEmailValidatorField() {
		<span class="code-keyword">return</span> emailValidatorField;
	}
	<span class="code-keyword">public</span> void setEmailValidatorField(<span class="code-object">String</span> emailValidatorField) {
		<span class="code-keyword">this</span>.emailValidatorField = emailValidatorField;
	}
	<span class="code-keyword">public</span> <span class="code-object">Integer</span> getIntegerValidatorField() {
		<span class="code-keyword">return</span> integerValidatorField;
	}
	<span class="code-keyword">public</span> void setIntegerValidatorField(<span class="code-object">Integer</span> integerValidatorField) {
		<span class="code-keyword">this</span>.integerValidatorField = integerValidatorField;
	}
	<span class="code-keyword">public</span> <span class="code-object">String</span> getRegexValidatorField() {
		<span class="code-keyword">return</span> regexValidatorField;
	}
	<span class="code-keyword">public</span> void setRegexValidatorField(<span class="code-object">String</span> regexValidatorField) {
		<span class="code-keyword">this</span>.regexValidatorField = regexValidatorField;
	}
	<span class="code-keyword">public</span> <span class="code-object">String</span> getRequiredStringValidatorField() {
		<span class="code-keyword">return</span> requiredStringValidatorField;
	}
	<span class="code-keyword">public</span> void setRequiredStringValidatorField(<span class="code-object">String</span> requiredStringValidatorField) {
		<span class="code-keyword">this</span>.requiredStringValidatorField = requiredStringValidatorField;
	}
	<span class="code-keyword">public</span> <span class="code-object">String</span> getRequiredValidatorField() {
		<span class="code-keyword">return</span> requiredValidatorField;
	}
	<span class="code-keyword">public</span> void setRequiredValidatorField(<span class="code-object">String</span> requiredValidatorField) {
		<span class="code-keyword">this</span>.requiredValidatorField = requiredValidatorField;
	}
	<span class="code-keyword">public</span> <span class="code-object">String</span> getStringLengthValidatorField() {
		<span class="code-keyword">return</span> stringLengthValidatorField;
	}
	<span class="code-keyword">public</span> void setStringLengthValidatorField(<span class="code-object">String</span> stringLengthValidatorField) {
		<span class="code-keyword">this</span>.stringLengthValidatorField = stringLengthValidatorField;
	}
	<span class="code-keyword">public</span> <span class="code-object">String</span> getFieldExpressionValidatorField() {
		<span class="code-keyword">return</span> fieldExpressionValidatorField;
	}
	<span class="code-keyword">public</span> void setFieldExpressionValidatorField(
			<span class="code-object">String</span> fieldExpressionValidatorField) {
		<span class="code-keyword">this</span>.fieldExpressionValidatorField = fieldExpressionValidatorField;
	}

    <span class="code-keyword">public</span> <span class="code-object">String</span> getUrlValidatorField() {
        <span class="code-keyword">return</span> urlValidatorField;
    }

    <span class="code-keyword">public</span> void setUrlValidatorField(<span class="code-object">String</span> urlValidatorField) {
        <span class="code-keyword">this</span>.urlValidatorField = urlValidatorField;
    }
}</pre>
</div></div>


<h2><a name="UsingFieldValidators-Step3"></a>Step 3</h2>
<p>Create the validator.xml.</p>
<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;validators&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"requiredValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"required"</span>&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ required ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"requiredStringValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"requiredstring"</span>&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"trim"</span>&gt;</span>true<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ required and must be string ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"integerValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"int"</span>&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"min"</span>&gt;</span>1<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"max"</span>&gt;</span>10<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ must be integer min 1 max 10 if supplied ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"dateValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"date"</span>&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"min"</span>&gt;</span>01/01/1990<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"max"</span>&gt;</span>01/01/2000<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ must be a min 01-01-1990 max 01-01-2000 if supplied ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"emailValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"email"</span>&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ must be a valid email if supplied ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"urlValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"url"</span>&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ must be a valid url if supplied ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"stringLengthValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"stringlength"</span>&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"maxLength"</span>&gt;</span>4<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"minLength"</span>&gt;</span>2<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"trim"</span>&gt;</span>true<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ must be a String of a specific greater than 1 less than 5 if specified ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"regexValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"regex"</span>&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"expression"</span>&gt;</span>.*\.txt<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ regexValidatorField must match a regexp (.*\.txt) if specified ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
	<span class="code-tag">&lt;field name=<span class="code-quote">"fieldExpressionValidatorField"</span>&gt;</span>
		<span class="code-tag">&lt;field-validator type=<span class="code-quote">"fieldexpression"</span>&gt;</span>
			<span class="code-tag">&lt;param name=<span class="code-quote">"expression"</span>&gt;</span>(fieldExpressionValidatorField == requiredValidatorField)<span class="code-tag">&lt;/param&gt;</span>
			<span class="code-tag">&lt;message&gt;</span><span class="code-tag">&lt;![CDATA[ must be the same as the Required Validator Field if specified ]]&gt;</span><span class="code-tag">&lt;/message&gt;</span>
		<span class="code-tag">&lt;/field-validator&gt;</span>
	<span class="code-tag">&lt;/field&gt;</span>
<span class="code-tag">&lt;/validators&gt;</span></pre>
</div></div>





                    			    </td>
		    </tr>
	    </table>
    </body>
</html>
