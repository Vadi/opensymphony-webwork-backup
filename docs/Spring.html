<html>
    <head>
        <title>Spring</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">

				    <p class="paragraph"><h2 class="heading2"> What is Spring and Why do you want to use it with WebWork?</h2>
Check out <span class="nobr"><a href="http://www.springframework.org">&#104;ttp://www.springframework.org<sup><img src="./icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="&gt;&gt;" border="0"/></sup></a></span> for more details about Spring.  To summarize,  Spring provides several different layers. Spring&#039;s IoC container, for instance, provides a nice transparent way to wire together objects with their dependencies, such as services they use. It can also, with the help of its AOP framework, provide transactional behavior to plain Java beans. Spring also provides an MVC framework, which is what could be compared to WebWork.  There are those who believe WebWork is a better MVC framework, and so would choose WebWork for this part and integrate the rest of the Spring stack.<br/>
<br clear="all" />There are a number of ways to integrate Spring into WebWork.</p><h2 class="heading2"> Use SpringObjectFactory</h2><p class="paragraph">The <span class="nobr"><a href="http://xwork-optional.dev.java.net">xwork-optional<sup><img src="./icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="&gt;&gt;" border="0"/></sup></a></span> package from dev.java.net contains a module <b class="strong">xwork-spring</b> that contains all the necessary code to use Spring in WebWork.  It contains primarily a SpringObjectFactory to wire up the dependencies for an Action before passing it to WebWork. Each action should be configured within a Spring application context as a prototype (because WebWork assumes a new instance of a class for every action invocation).  Specify something like this in applicationContext.xml:
<div class="code"><pre>&lt;bean name=&quot;some&#45;action&quot; class=&quot;fully.qualified.class.name&quot; singleton=&quot;false&quot;&gt;&#10;    &lt;property name=&quot;someProperty&quot;&gt;&lt;ref bean=&quot;someOtherBean&quot;/&gt;&lt;/property&gt;&#10;&lt;/bean&gt;</pre></div></p>and in xwork.xml:
<div class="code"><pre>&lt;action name=&quot;myAction&quot; class=&quot;some&#45;action&quot;&gt;&#10;    &lt;result name=&quot;success&quot;&gt;view.jsp&lt;/result&gt;&#10;&lt;/action&gt;</pre></div><p class="paragraph">Notice that the WebWork Action&#039;s class name <b class="strong">some-action</b> is the bean name defined in the Spring application context.</p>Another advantage of the SpringObjectFactory approach is that it can also be used to load interceptors using the same sort of logic. If the interceptor is stateless, then it&#039;s possible to create the interceptor as a singelton instance, but otherwise it&#039;s best to create it as a Spring prototype.<br/>
<br clear="all" />In order to be used, the default ObjectFactory that WebWork uses should be replaced with an instance of the SpringObjectFactory. The xwork-optional package ships with a ContextListener that does this, assuming that the Spring application context has already been configured.  Add the following to web.xml:
<div class="code"><pre>&lt;&#33;&#45;&#45; This needs to be after Spring ContextLoaderListener &#45;&#45;&gt;&#10;&lt;listener&gt;&#10;  &lt;listener&#45;class&gt;com.opensymphony.xwork.spring.SpringObjectFactoryListener&lt;/listener&#45;class&gt;&#10;&lt;/listener&gt;</pre></div><p class="paragraph">Note: this is actually a XWork configuration but for simplicity, I just assume WebWork.</p>

				    
			    </td>
		    </tr>
	    </table>
    </body>
</html>
