<html>
    <head>
        <title>WebWork - 
        Multiple Submit Buttons
         </title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <h2><a name="MultipleSubmitButtons-Introduction"></a>Introduction</h2>
<p>Often, we have multiple submit buttons within a single form. The below is just a simple way of identifying which button was clicked, and which actions to take.</p>

<p>There are, of course, many ways of doing this, including the use of javascript to identify the actions, etc... You're welcome to pick and choose whichever method you find most useful. Webwork is flexible enough.</p>
<h2><a name="MultipleSubmitButtons-Form"></a>Form</h2>
<div class="code"><div class="codeContent">
<pre class="code-java">&lt;button type=<span class="code-quote">"submit"</span> value=<span class="code-quote">"Submit"</span> name=<span class="code-quote">"submit"</span>&gt;
&lt;button type=<span class="code-quote">"submit"</span> value=<span class="code-quote">"Clear"</span> name=<span class="code-quote">"clear"</span>&gt;</pre>
</div></div>
<h2><a name="MultipleSubmitButtons-Actionwithbooleanproperties"></a>Action with boolean properties</h2>
<div class="code"><div class="codeContent">
<pre class="code-java">class MyAction <span class="code-keyword">extends</span> ActionSupport {
   <span class="code-keyword">private</span> <span class="code-object">boolean</span> submit;
   <span class="code-keyword">private</span> <span class="code-object">boolean</span> clear;
   <span class="code-keyword">public</span> void setSubmit(<span class="code-object">boolean</span> submit) {
      <span class="code-keyword">this</span>.submit = submit;
   }
   <span class="code-keyword">public</span> void setClear(<span class="code-object">boolean</span> clear) {
      <span class="code-keyword">this</span>.clear = clear;
   }
   <span class="code-keyword">public</span> <span class="code-object">String</span> execute() {
      <span class="code-keyword">if</span> (submit) {
         doSubmit();
         <span class="code-keyword">return</span> <span class="code-quote">"submitResult"</span>;
      }
      <span class="code-keyword">if</span> (clear) {
         doClear();
         <span class="code-keyword">return</span> <span class="code-quote">"clearResult"</span>;
      }
      <span class="code-keyword">return</span> <span class="code-keyword">super</span>.execute();
   }
}</pre>
</div></div>
<h2><a name="MultipleSubmitButtons-Explanation"></a>Explanation</h2>
<p>The boolean properties 'submit' and 'clear' will be set to 'true' or 'false' according weather the submit or clear form element is present in the submitted form.</p>

<p>In this case, the properties are boolean, therefore the values set would be boolean.</p>

<p>There is another method, using String properties, described below...</p>
<h2><a name="MultipleSubmitButtons-Form"></a>Form</h2>
<div class="code"><div class="codeContent">
<pre class="code-java">&lt;button type=<span class="code-quote">"submit"</span> value=<span class="code-quote">"Submit"</span> name=<span class="code-quote">"buttonName"</span>&gt;
&lt;button type=<span class="code-quote">"submit"</span> value=<span class="code-quote">"Clear"</span> name=<span class="code-quote">"buttonName"</span>&gt;</pre>
</div></div>
<h2><a name="MultipleSubmitButtons-ActionwithStringproperties"></a>Action with String properties</h2>
<div class="code"><div class="codeContent">
<pre class="code-java">class MyAction <span class="code-keyword">extends</span> ActionSupport {
   <span class="code-keyword">private</span> <span class="code-object">String</span> buttonName;
   <span class="code-keyword">public</span> void setButtonName(<span class="code-object">String</span> buttonName) {
      <span class="code-keyword">this</span>.buttonName = buttonName;
   }
   <span class="code-keyword">public</span> <span class="code-object">String</span> execute() {
      <span class="code-keyword">if</span> (<span class="code-quote">"Submit"</span>.equals(buttonName)) {
         doSubmit();
         <span class="code-keyword">return</span> <span class="code-quote">"submitResult"</span>;
      }
      <span class="code-keyword">if</span> (<span class="code-quote">"Clear"</span>.equals(buttonName)) {
         doClear();
         <span class="code-keyword">return</span> <span class="code-quote">"clearResult"</span>;
      }
      <span class="code-keyword">return</span> <span class="code-keyword">super</span>.execute();
   }
}</pre>
</div></div>
<h2><a name="MultipleSubmitButtons-Explanation"></a>Explanation</h2>
<p>In this case, the properties are String, therefore the values set are also String in nature.</p>

<p>I don't really like this method, as it ties in the Action to the Form. (What happens if you want different text to show up on the button ? You would have to change both the form as well as the corresponding action.)</p>
<h2><a name="MultipleSubmitButtons-Conclusion"></a>Conclusion</h2>
<p>There are other ways to achieve the same functionality. There are pros and cons to each methods. Feedback welcome.</p>

                    			    </td>
		    </tr>
	    </table>
    </body>
</html>
