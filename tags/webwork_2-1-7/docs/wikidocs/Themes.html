<html>
    <head>
        <title>WebWork 2 : Themes</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            WebWork 2 : Themes
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Dec 14, 2004 by <font color="#0050B2">casey</font>.
				    </div>

				    <p class="paragraph">A Theme is a set of <a href="Templates.html" title="Templates">Templates</a> used to customize web page development with UI tags.  They provide a powerful mechanism to help web developers spice up the UI with a mixture of styles (colors, fonts, etc).  For example, you may want half your form textfields to have a blue background and half a white background.   A couple of notes:</p><ul class="star">
<li> Webwork comes with 2 pre-defined themes; &quot;simple&quot; and &quot;xhtml&quot; (default).  The default location webwork looks for themes in your web application is <tt class="monospaced">/template</tt>.  The default theme is <tt class="monospaced">xhtml</tt>.  Default, meaning that it will be used if you don&#039;t specify a theme attribute in your UI tag.  <ins class="inserted">Note:</ins> The default values can be overridden in your <a href="webwork.properties.html" title="webwork.properties">webwork.properties</a> file with <tt class="monospaced">webwork.ui.theme=</tt>  and <tt class="monospaced">webwork.ui.templateDir=</tt>.</li>
</ul>
<ul class="star">
<li> Custom themes can also be created to tailor your own needs.  We recommend you consult the pre-defined templates as a starting point before you create your own.</li>
</ul>
<ul class="star">
<li> Every time a UI tag is used, the tag is rendered into html by referencing a template.  So they play a key role in how fields look and are positioned in a page.  Currently, only velocity templates are supported out of the box.  However, expect to see more support for creating JSP templates in future releases.</li>
</ul><br/>
<ins class="inserted">Note:</ins> Before moving forward, it is recommended that you review how the webwork template system works.  (see <a href="Templates.html" title="Templates">Templates</a>)<p class="paragraph"><h3 class="heading3"><a name="Themes-xhtml">  xhtml</a></h3></p><tt class="monospaced">xhtml</tt> comes configured as the default theme for Webwork.  It extends the simple theme providing built in functionality for error reporting, table positioning, and labeling.  Lets look at one of the most common UI tags used, <tt class="monospaced">textfield</tt>, and show the proper way to write your views with the xhtml theme.<p class="paragraph">As you may already know, the default UI template used for the textfield tag is text.vm located under the directory /template/xhtml.</p><div class="code"><div class="codeContent">
<pre>#&#42;&#10;   &#45;&#45; text.vm&#10;&#42;#&#10;## notice the re&#45;use of the simple theme template text.vm&#10;#parse(<span class="java&#45;quote">&quot;/template/xhtml/controlheader.vm&quot;</span>)&#10;#parse(<span class="java&#45;quote">&quot;/template/simple/text.vm&quot;</span>)&#10;#parse(<span class="java&#45;quote">&quot;/template/xhtml/controlfooter.vm&quot;</span>)</pre>
</div></div><br/>
When this template is loaded, it will first parse and render the /template/xhtml/controlheader.vm.  Within controlheader.vm you will notice functionlity for error reporting, labeling and table positioning.  If ActionSupport is returning with some errors, they are rendered into html using this this template.  Also you will notice how it grabs the parameter.label value and positions it with the textfield using the table elements tr and td.<br/>

<div class="code"><div class="codeContent">
<pre>#&#42;&#10;   &#45;&#45; controlheader.vm&#10;&#42;#&#10;## Only show message if errors are available.&#10;## This will be done if ActionSupport is used.&#10;&#10;#if( $fieldErrors.get($parameters.name) )&#10;  #set ($hasFieldErrors = $fieldErrors.get($parameters.name))&#10;  #foreach ($error in $fieldErrors.get($parameters.name))&#10;    <span class="xml&#45;tag">&lt;tr&gt;</span>&#10;        #if ($parameters.labelposition == &#039;top&#039;)&#10;            <span class="xml&#45;tag">&lt;td align=<span class="xml&#45;quote">&quot;left&quot;</span> valign=<span class="xml&#45;quote">&quot;top&quot;</span> colspan=<span class="xml&#45;quote">&quot;2&quot;</span>&gt;</span>&#10;        #else&#10;            <span class="xml&#45;tag">&lt;td align=<span class="xml&#45;quote">&quot;center&quot;</span> valign=<span class="xml&#45;quote">&quot;top&quot;</span> colspan=<span class="xml&#45;quote">&quot;2&quot;</span>&gt;</span>&#10;        #end&#10;            <span class="xml&#45;tag">&lt;span class=<span class="xml&#45;quote">&quot;errorMessage&quot;</span>&gt;</span>$&#33;webwork.htmlEncode($error)<span class="xml&#45;tag">&lt;/span&gt;</span>&#10;            <span class="xml&#45;tag">&lt;/td&gt;</span>&#10;    <span class="xml&#45;tag">&lt;/tr&gt;</span>&#10;  #end&#10;#end&#10;&#10;## Provides alignment behavior with table tags&#10;## if the label position is top,&#10;## then give the label it&#039;s own row in the table&#10;## otherwise, display the label to the left on same row&#10;&#10;<span class="xml&#45;tag">&lt;tr&gt;</span>&#10;    #if ($parameters.labelposition == &#039;top&#039;)&#10;        <span class="xml&#45;tag">&lt;td align=<span class="xml&#45;quote">&quot;left&quot;</span> valign=<span class="xml&#45;quote">&quot;top&quot;</span> colspan=<span class="xml&#45;quote">&quot;2&quot;</span>&gt;</span>&#10;    #else&#10;        <span class="xml&#45;tag">&lt;td align=<span class="xml&#45;quote">&quot;right&quot;</span> valign=<span class="xml&#45;quote">&quot;top&quot;</span>&gt;</span>&#10;    #end&#10;&#10;        #if ($hasFieldErrors)&#10;            <span class="xml&#45;tag">&lt;span class=<span class="xml&#45;quote">&quot;errorLabel&quot;</span>&gt;</span>&#10;        #else&#10;            <span class="xml&#45;tag">&lt;span class=<span class="xml&#45;quote">&quot;label&quot;</span>&gt;</span>&#10;        #end&#10;&#10;## If you want to mark required form fields with an asterisk, &#10;## you can set the required attribute&#10;## Ex. <span class="xml&#45;tag">&lt;ui:textfield label=<span class="xml&#45;quote">&quot;&#039;mylabel&#039;&quot;</span> name=<span class="xml&#45;quote">&quot;&#039;myname&#039;&quot;</span> required=<span class="xml&#45;quote">&quot;&#039;true&#039;&quot;</span> /&gt;</span> &#10;        #if ($parameters.label)&#10;            #if ($parameters.required) <span class="xml&#45;tag">&lt;span class=<span class="xml&#45;quote">&quot;required&quot;</span>&gt;</span>&#42;<span class="xml&#45;tag">&lt;/span&gt;</span> #end &#10;               $&#33;webwork.htmlEncode($parameters.label):&#10;        #end&#10;            <span class="xml&#45;tag">&lt;/span&gt;</span>&#10;        <span class="xml&#45;tag">&lt;/td&gt;</span>&#10;&#10;## add the extra row&#10;#if ($parameters.labelposition == &#039;top&#039;)&#10;<span class="xml&#45;tag">&lt;/tr&gt;</span>&#10;<span class="xml&#45;tag">&lt;tr&gt;</span>&#10;#end&#10;    <span class="xml&#45;tag">&lt;td&gt;</span></pre>
</div></div><br/>
The next template being parsed in /template/xhtml/text.vm is /template/simple/text.vm.  Here you see the actual html input text tag being rendered and how the parameters are passed in.
<div class="code"><div class="codeContent">
<pre>#&#42;&#10;  &#45;&#45; text.vm&#10;  &#45;&#45;&#10;  &#45;&#45; Required Parameters:&#10;  &#45;&#45;   &#42; label      &#45; The description that will be used to identfy the control.&#10;  &#45;&#45;   &#42; name       &#45; The name of the attribute to put and pull the result from.&#10;  &#45;&#45;                  Equates to the NAME parameter of the HTML INPUT tag.&#10;  &#45;&#45;&#10;  &#45;&#45; Optional Parameters:&#10;  &#45;&#45;   &#42; labelposition   &#45; determines were the label will be place in relation&#10;  &#45;&#45;                       to the control.  Default is to the left of the control.&#10;  &#45;&#45;   &#42; size       &#45; SIZE parameter of the HTML INPUT tag.&#10;  &#45;&#45;   &#42; maxlength  &#45; MAXLENGTH parameter of the HTML INPUT tag.&#10;  &#45;&#45;   &#42; disabled   &#45; DISABLED parameter of the HTML INPUT tag.&#10;  &#45;&#45;   &#42; readonly   &#45; READONLY parameter of the HTML INPUT tag.&#10;  &#45;&#45;   &#42; onkeyup    &#45; onkeyup parameter of the HTML INPUT tag.&#10;  &#45;&#45;   &#42; tabindex  &#45; tabindex parameter of the HTML INPUT tag.&#10;  &#45;&#45;   &#42; onchange  &#45; onkeyup parameter of the HTML INPUT tag.&#10;  &#45;&#45;&#10;    &#42;#&#10;<span class="xml&#45;tag">&lt;input type=<span class="xml&#45;quote">&quot;text&quot;</span>&#10;                                   name=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.name)&quot;</span>&#10;#if ($parameters.size)             size=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.size)&quot;</span>            #end&#10;#if ($parameters.maxlength)        maxlength=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.maxlength)&quot;</span>  #end&#10;#if ($parameters.nameValue)        value=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.nameValue)&quot;</span>      #end&#10;#if ($parameters.disabled == true) disabled=<span class="xml&#45;quote">&quot;disabled&quot;</span>                                      #end&#10;#if ($parameters.readonly)         readonly=<span class="xml&#45;quote">&quot;readonly&quot;</span>                                      #end&#10;#if ($parameters.onkeyup)          onkeyup=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.onkeyup)&quot;</span>      #end&#10;#if ($parameters.tabindex)         tabindex=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.tabindex)&quot;</span>    #end&#10;#if ($parameters.onchange)         onchange=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.onchange)&quot;</span>    #end&#10;#if ($parameters.id)               id=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.id)&quot;</span>                #end&#10;#if ($parameters.cssClass)         class=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.cssClass)&quot;</span>       #end&#10;#if ($parameters.cssStyle)         style=<span class="xml&#45;quote">&quot;$&#33;webwork.htmlEncode($parameters.cssStyle)&quot;</span>       #end&#10;/&gt;</span></pre>
</div></div>&#160;<br/>
And finally, the controlfooter.vm is parsed to close up the td and tr tags that were previously opened in controlheader.vm
<div class="code"><div class="codeContent">
<pre>#&#42;&#10;   &#45;&#45; controlheader.vm&#10;&#42;#&#10;&#10;  <span class="xml&#45;tag">&lt;/td&gt;</span>&#10;<span class="xml&#45;tag">&lt;/tr&gt;</span></pre>
</div></div><p class="paragraph">In our view, since the tr and td elements are already created for us, we can simply wrap them with table elements.  For the sake of learning, we will just use normal html table objects, but feel free to look into how the table.vm tag gets rendered and possibly use that.
<div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;&#37;&#64; taglib uri=<span class="xml&#45;quote">&quot;webwork&quot;</span> prefix=<span class="xml&#45;quote">&quot;ui&quot;</span> &#37;&gt;</span>&#10;<span class="xml&#45;tag">&lt;link rel =<span class="xml&#45;quote">&quot;stylesheet&quot;</span> type=<span class="xml&#45;quote">&quot;text/css&quot;</span> href=<span class="xml&#45;quote">&quot;template/xhtml/styles.css&quot;</span> title=<span class="xml&#45;quote">&quot;Style&quot;</span>&gt;</span>&#10;<span class="xml&#45;tag">&lt;html&gt;</span>&#10;<span class="xml&#45;tag">&lt;head&gt;</span><span class="xml&#45;tag">&lt;title&gt;</span>JSP PAGE<span class="xml&#45;tag">&lt;/title&gt;</span><span class="xml&#45;tag">&lt;/head&gt;</span>&#10;<span class="xml&#45;tag">&lt;body&gt;</span>&#10;<span class="xml&#45;tag">&lt;form&gt;</span>&#10;  <span class="xml&#45;tag">&lt;table&gt;</span>&#10;	<span class="xml&#45;tag"><span class="xml&#45;comment">&lt;&#33;&#45;&#45; we can set the required attribute to true if we want to &#10;	     display and asterisk next to required form fields&#10;	 &#45;&#45;&gt;</span></span>&#10;&#10;	<span class="xml&#45;tag">&lt;ui:textfield label=<span class="xml&#45;quote">&quot;&#039;Username&#039;&quot;</span> required=<span class="xml&#45;quote">&quot;&#039;true&#039;&quot;</span> name=<span class="xml&#45;quote">&quot;&#039;user&#039;&quot;</span> /&gt;</span> &#10;	<span class="xml&#45;tag">&lt;ui:textfield label=<span class="xml&#45;quote">&quot;&#039;Email&#039;&quot;</span> name=<span class="xml&#45;quote">&quot;&#039;email&#039;&quot;</span>/&gt;</span> &#10;  <span class="xml&#45;tag">&lt;/table&gt;</span>&#10;<span class="xml&#45;tag">&lt;/form&gt;</span>&#10;<span class="xml&#45;tag">&lt;/body&gt;</span>&#10;<span class="xml&#45;tag">&lt;/html&gt;</span></pre>
</div></div></p><div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;link rel =<span class="xml&#45;quote">&quot;stylesheet&quot;</span> type=<span class="xml&#45;quote">&quot;text/css&quot;</span> href=<span class="xml&#45;quote">&quot;template/xhtml/styles.css&quot;</span> title=<span class="xml&#45;quote">&quot;Style&quot;</span>&gt;</span>&#10;<span class="xml&#45;tag">&lt;html&gt;</span>&#10;<span class="xml&#45;tag">&lt;head&gt;</span><span class="xml&#45;tag">&lt;title&gt;</span>VM PAGE<span class="xml&#45;tag">&lt;/title&gt;</span><span class="xml&#45;tag">&lt;/head&gt;</span>&#10;<span class="xml&#45;tag">&lt;body&gt;</span>&#10;<span class="xml&#45;tag">&lt;form&gt;</span>&#10;  <span class="xml&#45;tag">&lt;table&gt;</span>&#10;    #tag( TextField <span class="xml&#45;quote">&quot;label=&#039;Username&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;name=&#039;user&#039;&quot;</span> )<span class="xml&#45;tag">&lt;br&gt;</span>&#10;    #tag( TextField <span class="xml&#45;quote">&quot;label=&#039;Email&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;name=&#039;email&#039;&quot;</span> )<span class="xml&#45;tag">&lt;br&gt;</span>&#10;  <span class="xml&#45;tag">&lt;/table&gt;</span>&#10;<span class="xml&#45;tag">&lt;/form&gt;</span>&#10;<span class="xml&#45;tag">&lt;/body&gt;</span>&#10;<span class="xml&#45;tag">&lt;/html&gt;</span></pre>
</div></div><p class="paragraph"><h3 class="heading3"><a name="Themes-simple">  simple</a></h3></p>The <tt class="monospaced">simple</tt> theme provides no additional functionality from HTML tags (similiar to struts).  This theme is considered the low end of the structure and can be re-used (extended) like xhtml to add additional functionality or behavior.  You can easily create your own theme and extend this one to create complex pages that fit your own needs.<br/>
To use the pre-defined theme <tt class="monospaced">simple</tt>
<div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;&#37;&#64; taglib uri=<span class="xml&#45;quote">&quot;webwork&quot;</span> prefix=<span class="xml&#45;quote">&quot;ui&quot;</span> &#37;&gt;</span>&#10;<span class="xml&#45;tag">&lt;link rel =<span class="xml&#45;quote">&quot;stylesheet&quot;</span> type=<span class="xml&#45;quote">&quot;text/css&quot;</span> href=<span class="xml&#45;quote">&quot;template/xhtml/styles.css&quot;</span> title=<span class="xml&#45;quote">&quot;Style&quot;</span>&gt;</span>&#10;<span class="xml&#45;tag">&lt;html&gt;</span>&#10;<span class="xml&#45;tag">&lt;head&gt;</span><span class="xml&#45;tag">&lt;title&gt;</span>JSP PAGE<span class="xml&#45;tag">&lt;/title&gt;</span><span class="xml&#45;tag">&lt;/head&gt;</span>&#10;<span class="xml&#45;tag">&lt;body&gt;</span>&#10;  <span class="xml&#45;tag">&lt;form&gt;</span>&#10;	<span class="xml&#45;tag">&lt;ui:label name=<span class="xml&#45;quote">&quot;&#039;userlabel&#039;&quot;</span> label=<span class="xml&#45;quote">&quot;&#039;user&quot;</span> theme=<span class="xml&#45;quote">&quot;&#039;simple&#039;&quot;</span>/&gt;</span>&#10;                <span class="xml&#45;tag">&lt;ui:textfield name=<span class="xml&#45;quote">&quot;&#039;user&#039;&quot;</span> theme=<span class="xml&#45;quote">&quot;&#039;simple&#039;&quot;</span>/&gt;</span>&#10;&#10;	<span class="xml&#45;tag">&lt;ui:label name=<span class="xml&#45;quote">&quot;&#039;emaillabel&#039;&quot;</span> label=<span class="xml&#45;quote">&quot;&#039;user&quot;</span> theme=<span class="xml&#45;quote">&quot;&#039;simple&#039;&quot;</span>/&gt;</span>&#10;                <span class="xml&#45;tag">&lt;ui:textfield name=<span class="xml&#45;quote">&quot;&#039;email&#039;&quot;</span> theme=<span class="xml&#45;quote">&quot;&#039;simple&#039;&quot;</span>/&gt;</span>&#10;  <span class="xml&#45;tag">&lt;/form&gt;</span>&#10;<span class="xml&#45;tag">&lt;/body&gt;</span>&#10;<span class="xml&#45;tag">&lt;/html&gt;</span></pre>
</div></div><br/>

<div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;link rel =<span class="xml&#45;quote">&quot;stylesheet&quot;</span> type=<span class="xml&#45;quote">&quot;text/css&quot;</span> href=<span class="xml&#45;quote">&quot;template/xhtml/styles.css&quot;</span> title=<span class="xml&#45;quote">&quot;Style&quot;</span>&gt;</span>&#10;<span class="xml&#45;tag">&lt;html&gt;</span>&#10;<span class="xml&#45;tag">&lt;head&gt;</span><span class="xml&#45;tag">&lt;title&gt;</span>VM PAGE<span class="xml&#45;tag">&lt;/title&gt;</span><span class="xml&#45;tag">&lt;/head&gt;</span>&#10;<span class="xml&#45;tag">&lt;body&gt;</span>&#10;  <span class="xml&#45;tag">&lt;form&gt;</span>&#10;#tag( Label  <span class="xml&#45;quote">&quot;name=&#039;userlabel&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;label=&#039;user&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;theme=&#039;simple&#039;&quot;</span> )&#10;#tag( TextField  <span class="xml&#45;quote">&quot;name=&#039;user&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;theme=&#039;simple&#039;&quot;</span> )<span class="xml&#45;tag">&lt;br&gt;</span>&#10;&#10;#tag( Label  <span class="xml&#45;quote">&quot;name=&#039;emaillabel&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;label=&#039;email&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;theme=&#039;simple&#039;&quot;</span> )&#10;#tag( TextField  <span class="xml&#45;quote">&quot;name=&#039;email&#039;&quot;</span>&#160;<span class="xml&#45;quote">&quot;theme=&#039;simple&#039;&quot;</span> )<span class="xml&#45;tag">&lt;br&gt;</span>&#10;  <span class="xml&#45;tag">&lt;/form&gt;</span>&#10;<span class="xml&#45;tag">&lt;/body&gt;</span>&#10;<span class="xml&#45;tag">&lt;/html&gt;</span></pre>
</div></div><p class="paragraph"><h3 class="heading3"><a name="Themes-Creatingyourowntheme%3Caname%3D%22Themescustom%22%3E%3C%2Fa%3E">  Creating your own theme <a name="Themes-custom"></a></a></h3></p>Creating  themes is quite simple and can save valuable time enabling you to minimize UI code when it comes to creating complex UI pages.  It is recommended you understand webwork templates before you continue (see <a href="Templates.html" title="Templates">Templates</a>).  The steps required to use a theme.
<ol>
<li> Define a name for your theme by creating a subdirectory under /template directory.  The name of the subdirectory you create will be the same as the value you specify in your UI tag theme attribute.
<div class="code"><div class="codeContent">
<pre>/template/myTheme</pre>
</div></div>
<div class="code"><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;ui:textfield label=<span class="xml&#45;quote">&quot;&#039;foo&#039;&quot;</span> name=<span class="xml&#45;quote">&quot;&#039;bar&#039;&quot;</span> theme=<span class="xml&#45;quote">&quot;&#039;myTheme&#039;&quot;</span> /&gt;</span></pre>
</div></div>
</li>
<li> Create a velocity template for every UI tag that you want to use with your theme.  For example, if you have forms with only textfields and nothing else, then all you need in your subdirectory is a text.vm template.  Note: if you create a text.vm and reference another template with the parse tag, then you must make sure these templates are defined as well(ex. controlheader.vm).</li>
<li> If you want your new theme to be the default so you don&#039;t have to specify the theme attribute every time in the UI tag, then modify the webwork.ui.theme value in your webwork.properties file.  Otherwise, you can just specify the theme attribute in all your UI tags.</li>
</ol><p class="paragraph">As a good starting point, a good idea is to copy the contents of xhtml into a new subdirectory.  Therefore, you can modify the templates and still refer back to the originals as a reference point.</p>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Dec 14, 2004 16:36</font></td>
		    </tr>
	    </table>
    </body>
</html>