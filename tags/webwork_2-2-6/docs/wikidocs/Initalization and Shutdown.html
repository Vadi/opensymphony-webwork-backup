<html>
    <head>
        <title>WebWork - 
        Initalization and Shutdown
         </title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <table cellpadding='5' width='85%' cellspacing='8px' class='noteMacro' border="0" align='center'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="./icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b class="strong">WebWork 2.2.6 and above</b><br />
<p>This feature is only available for WebWork 2.2.6 and above</p></td></tr></table>

<p>A <em>StartUpListener</em> and <em>ShutDownListener</em> could defined such that WebWork will called them when its starting up and shutting down respectively. The <em>StartUpListener</em> and ShutDownListener_ are being defined in <em>webwork.properties</em></p>

<p>They are basically hooked up through <em>FilterDispatcher</em>'s <em>init()</em> and <em>cleanup()</em> method which in turns is invoked by <em>FilterDispatcher</em>'s <em>init()</em> and <em>destroy()</em> methods respectively.</p>

<div class="code"><div class="codeContent">
<pre class="code-none">### A start up listener class name (must implements com.opensymphony.webwork.dispatcher.StartUpListener
### interface) that will get invoked only once when WebWork started up. The class names could be
### comma separated and will be executed in order.
#
#webwork.dispatcher.startUpListener=foo.bar.StartUpListener1, foo.bar.StartUpListener2

### A shut down listener class name (must implements com.opensymphony.webwork.dispatcher.ShutDownListener
### interface) that will get invoked only once when WebWork shuts down.  The class names could be
### comma separated and will be executed in order.
#
#webwork.dispatcher.shutDownListener=foo.bar.ShutDownListener1, foo.bar.ShutDownListener2</pre>
</div></div>

<h3><a name="InitalizationandShutdown-StartUpListener"></a>StartUpListener</h3>

<p>An interface to be implemented if require to get informed when WebWork
starts up, It's being hooked up through FilterDispatcher#init(javax.servlet.FilterConfig) 
-> DispatcherUtils#init(javax.servlet.ServletContext) methods calls.
<p/>
It can be configured through <code>webwork.properties</code> that 
resides in the classpath, typically in <code>/WEB-INF/classes</code> directory
through the following entry
<p/></p>

<p><pre>
webwork.dispatcher.startUpListener=foo.bar.StartupListener1, foo.bar.StartupListener2
</pre></p>

<p>The value of the properties is the FQN (Fully Quantified class name of the start up listeners)
 It must implements this interface, else a ClassCastException will be registered in the log.
 Multiple class names could be specified, but they must be comma separated.</p>


<p><em>StartUpListener</em> looks as follows :-</p>
<div class="code"><div class="codeContent">
<pre class="code-java"><span class="code-keyword">public</span> <span class="code-keyword">interface</span> StartUpListener {
	void startup();
}</pre>
</div></div>


<h3><a name="InitalizationandShutdown-ShutDownListener"></a>ShutDownListener</h3>

<p>An interface to be implemented if require to get informed when WebWork
shuts down, It's being hooked up through FilterDispatcher#destroy() 
-> DispatcherUtils#cleanup() methods calls.
<p/>
It can be configured through <code>webwork.properties</code> that 
resides in the classpath, typically in <code>/WEB-INF/classes</code> directory
through the following entry
<p/></p>

<p><pre>
webwork.dispatcher.shutDownListener=foo.bar.ShutdownListener1, foo.bar.ShutdownListener2
</pre></p>

<p>The value of the properties is the FQN (Fully Quantified class name of the shut down listeners)
 It must implements this interface, else a ClassCastException will be registered in the log.
 Multiple class names could be specified, but they must be comma separated.</p>


<p><em>ShutDownListener</em> looks as follows :-</p>
<div class="code"><div class="codeContent">
<pre class="code-java"><span class="code-keyword">public</span> <span class="code-keyword">interface</span> ShutDownListener {
	void shutdown();
}</pre>
</div></div>

                    			    </td>
		    </tr>
	    </table>
    </body>
</html>
