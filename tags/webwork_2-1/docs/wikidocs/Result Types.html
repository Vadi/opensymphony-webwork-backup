<html>
    <head>
        <title>Result Types</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">

				    <p class="paragraph"><h2 class="heading2">  Overview</h2></p><b class="strong">Result Types</b> are classes that determine what happens after an Action executes and a Result is returned. Developers are free to create their own Result Types according to the needs of their application or environment. In WebWork 2 for example, Servlet and Velocity Result Types have been created to handle rendering views in web applications.<p class="paragraph"><ins class="inserted">Note:</ins> All built in webwork result types implement the <tt class="monospaced">com.opensymphony.xwork.Result</tt> interface, which represents a generic interface for all action execution results, whether that be displaying a webpage, generating an email, sending a JMS message, etc.</p>Result types define classes and map them to names to be referred in the action configuration results. This serves as a shorthand name-value pair for these classes.
<div class="code"><pre>&lt;&#33;&#45;&#45; parts of xwork.xml  &#45;&#45;&gt;&#10;....&#10;&#10;&lt;result&#45;types&gt;&#10; &lt;result&#45;type name=&quot;dispatcher&quot; class=&quot;com.opensymphony.webwork.dispatcher.ServletDispatcherResult&quot; <span class="java&#45;keyword">default</span>=&quot;<span class="java&#45;keyword">true</span>&quot;/&gt;&#10; &lt;result&#45;type name=&quot;redirect&quot; class=&quot;com.opensymphony.webwork.dispatcher.ServletRedirectResult&quot;/&gt;&#10; &lt;result&#45;type name=&quot;velocity&quot; class=&quot;com.opensymphony.webwork.dispatcher.VelocityResult&quot;/&gt;&#10; &lt;result&#45;type name=&quot;chain&quot; class=&quot;com.opensymphony.xwork.ActionChainResult&quot;/&gt;&#10; &lt;result&#45;type name=&quot;xslt&quot; class=&quot;com.opensymphony.webwork.views.xslt.XSLTResult&quot;/&gt;&#10; &lt;result&#45;type name=&quot;jasper&quot; class=&quot;com.opensymphony.webwork.views.jasperreports.JasperReportsResult&quot;/&gt;&#10; &lt;result&#45;type name=&quot;freemarker&quot; class=&quot;com.opensymphony.webwork.views.freemarker.FreemarkerResult&quot;/&gt;&#10;&lt;/result&#45;types&gt;&#10;&#10;....&#10;&lt;&#33;&#45;&#45; <span class="java&#45;keyword">this</span> action uses the result type dispatcher which is defined above &#45;&#45;&gt;&#10;&#10;&lt;action name=&quot;bar&quot; class=&quot;myPackage.barAction&quot;&gt;&#10;  &lt;result name=&quot;success&quot; type=&quot;dispatcher&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;foo.jsp&lt;/param&gt;&#10;  &lt;/result&gt;&#10;  &lt;result name=&quot;error&quot; type=&quot;dispatcher&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;error.jsp&lt;/param&gt;&#10;  &lt;/result&gt;&#10;&lt;/action&gt;&#10;&#10;....</pre></div><p class="paragraph"><h2 class="heading2"> Result Types</h2></p>Webwork provides several implementations of the <tt class="monospaced">com.opensymphony.xwork.Result</tt> interface to make web-based interactions with your actions simple.  These result types include:

<table class="wikitable">
<tr>
<th> Result Type </th><th> name </th><th> class </th>
</tr><tr>
<td> <a href="#Result+Types-Dispatcher">Dispatcher</a> </td><td> dispatcher </td><td> com.opensymphony.webwork.dispatcher.ServletDispatcherResult </td>
</tr><tr>
<td> <a href="#Result+Types-Redirect">Redirect</a> </td><td> redirect </td><td> com.opensymphony.webwork.dispatcher.ServletRedirectResult </td>
</tr><tr>
<td> <a href="#Result+Types-Action Chaining">Action Chaining</a> </td><td> chain </td><td> com.opensymphony.xwork.ActionChainResult </td>
</tr><tr>
<td> <a href="#Result+Types-Velocity">Velocity</a> </td><td> velocity </td><td> com.opensymphony.webwork.dispatcher.VelocityResult </td>
</tr><tr>
<td> <a href="#Result+Types-FreeMarker">FreeMarker</a> </td><td> freemarker </td><td> com.opensymphony.webwork.views.freemarker.FreemarkerResult </td>
</tr><tr>
<td> <a href="#Result+Types-JasperReports">JasperReports</a> </td><td> jasper </td><td> com.opensymphony.webwork.views.jasperreports.JasperReportsResult </td>
</tr><tr>
<td> <a href="#Result+Types-XML/XSL">XML/XSL</a> </td><td> xslt </td><td> com.opensymphony.webwork.views.xslt.XSLTResult </td>
</tr><tr>
<td> <a href="#Result+Types-HttpHeader">HttpHeader</a> </td><td>  </td><td> com.opensymphony.webwork.dispatcher.HttpHeaderResult </td>
</tr>
</table><br/>
Results are specified in a xwork xml config file(xwork.xml) nested inside &lt;action&gt;.  If the <tt class="monospaced">location</tt> param is the only param being specified in the result tag, you can simplify it as follows:

<div class="code"><pre>&lt;action name=&quot;bar&quot; class=&quot;myPackage.barAction&quot;&gt;&#10;  &lt;result name=&quot;success&quot; type=&quot;dispatcher&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;foo.jsp&lt;/param&gt;&#10;  &lt;/result&gt;&#10;&lt;/action&gt;</pre></div><br/>
or simplified
<div class="code"><pre>&lt;action name=&quot;bar&quot; class=&quot;myPackage.barAction&quot;&gt;&#10;  &lt;result name=&quot;success&quot; type=&quot;dispatcher&quot;&gt;foo.jsp&lt;/result&gt;&#10;&lt;/action&gt;</pre></div><p class="paragraph"><ins class="inserted">NOTE:</ins> The Parse attribute enables the location element to be parsed for expressions.  An example of how this could be useful:
<div class="code"><pre>&lt;result name=”success” type=”redirect”&gt;/displayCart.action&#63;userId=$&#123;userId&#125;&lt;/result&gt;</pre></div></p><ins class="inserted">NOTE:</ins> You can also specify global-results to use with multiple actions.  This can save time from having to add the same result to many different actions. For more information on result tags and global-results, see <a href="Results.html">Results</a> section.<p class="paragraph"><h4 class="heading4"> Dispatcher <a name="Result+Types-Dispatcher" ></a></h4></p>Includes or forwards to a view (usually a jsp). Behind the scenes WebWork will use a RequestDispatcher, where the target servlet/JSP receives the same request/response objects as the original servlet/JSP. Therefore, you can pass data between them using request.setAttribute() &#8211; the WebWork action is available.

<table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> location </td><td> <b class="strong">yes</b> </td><td>  the location to go to after execution (ex. jsp) </td>
</tr><tr>
<td> parse </td><td> no </td><td> true by default. If set to false, the location param will not be parsed for Ognl expressions </td>
</tr>
</table>
<div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;dispatcher&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;foo.jsp&lt;/param&gt;&#10;&lt;/result&gt;</pre></div><p class="paragraph"><h4 class="heading4"> Redirect <a name="Result+Types-Redirect" ></a></h4></p>The response is told to redirect the browser to the specified location (a new request from the client).  The consequence of doing this means that the action (action instance, action errors, field errors, etc) that was just executed is lost and no longer available.  This is because actions are built on a single-thread model. The only way to pass data is through the session or with web parameters (url?name=value) which can be OGNL expressions. 

<table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> location </td><td> <b class="strong">yes</b> </td><td>  the location to go to after execution </td>
</tr><tr>
<td> parse </td><td> no </td><td> true by default. If set to false, the location param will not be parsed for Ognl expressions </td>
</tr>
</table>
<div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;redirect&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;foo.jsp&lt;/param&gt;&#10;    &lt;param name=&quot;parse&quot;&gt;<span class="java&#45;keyword">false</span>&lt;/param&gt;&#10;&lt;/result&gt;</pre></div><p class="paragraph"><h4 class="heading4"> Action Chaining <a name="Result+Types-Action Chaining" ></a></h4></p>A special kind of view that invokes GenericDispatch (using the previously existing ActionContext) and executes another action.  This is useful if you need to execute one action immediately after another.

<table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> actionName </td><td> <b class="strong">yes</b> </td><td> the name of the action that will be chained to</td>
</tr><tr>
<td> namespace </td><td> no </td><td> sets the namespace of the Action that we&#039;re chaining to.  If namespace is null, this defaults to the current namespace. </td>
</tr>
</table><div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;&#10;    &lt;param name=&quot;actionName&quot;&gt;bar&lt;/param&gt;&#10;    &lt;param name=&quot;namespace&quot;&gt;/foo&lt;/param&gt;&#10;&lt;/result&gt;</pre></div><br/>
invokes this
<div class="code"><pre>&lt;action name=&quot;bar&quot; class=&quot;myPackage.barAction&quot;&gt;&#10;    ...&#10;&lt;/action&gt;</pre></div><p class="paragraph"><h4 class="heading4"> Velocity <a name="Result+Types-Velocity" ></a></h4></p>This result mocks a JSP execution environment and then displays a Velocity template that will be streamed directly to the servlet output.

<table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> location </td><td> <b class="strong">yes</b> </td><td>  the location to go to after execution </td>
</tr><tr>
<td> parse </td><td> no </td><td> true by default. If set to false, the location param will not be parsed for Ognl expressions </td>
</tr>
</table>
<div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;velocity&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;foo.vm&lt;/param&gt;&#10;&lt;/result&gt;</pre></div><p class="paragraph"><h4 class="heading4"> FreeMarker <a name="Result+Types-FreeMarker" ></a></h4></p><table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> location </td><td> <b class="strong">yes</b></td><td>  the location to go to after execution </td>
</tr><tr>
<td> parse </td><td> no </td><td> true by default. If set to false, the location param will not be parsed for Ognl expressions </td>
</tr><tr>
<td> contentType </td><td> no </td><td> defaults to &quot;text/html&quot; unless specified </td>
</tr>
</table><div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;freemarker&quot;&gt;foo.ftl&lt;/result&gt;</pre></div><p class="paragraph"><h4 class="heading4"> JasperReports <a name="Result+Types-JasperReports" ></a></h4></p>Generates a JasperReports report using the specified format or PDF if no format is specified.

<table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> location </td><td> <b class="strong">yes</b> </td><td>  the location to go to after execution </td>
</tr><tr>
<td> parse </td><td> no </td><td> true by default. If set to false, the location param will not be parsed for Ognl expressions </td>
</tr><tr>
<td> dataSource </td><td> <b class="strong">yes</b> </td><td> the Ognl expression used to retrieve the datasource from the value stack (usually a List) </td>
</tr><tr>
<td> format </td><td> no </td><td>the format in which the report should be generated, defaults to pdf </td>
</tr>
</table>
<div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;jasper&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;foo.jasper&lt;/param&gt;&#10;    &lt;param name=&quot;dataSource&quot;&gt;mySource&lt;/param&gt;&#10;    &lt;param name=&quot;format&quot;&gt;CSV&lt;/param&gt;&#10;&lt;/result&gt;</pre></div><br/>
or for pdf
<div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;jasper&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;foo.jasper&lt;/param&gt;&#10;    &lt;param name=&quot;dataSource&quot;&gt;mySource&lt;/param&gt;&#10;&lt;/result&gt;</pre></div><p class="paragraph"><h4 class="heading4"> XML/XSL <a name="Result+Types-XML/XSL" ></a></h4></p>Interfaces with xml transformations.

<table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> location </td><td> <b class="strong">yes</b> </td><td>  the location to go to after execution </td>
</tr><tr>
<td> parse </td><td> no </td><td> Defaults to false. If set to true, the location will be parsed for Ognl expressions </td>
</tr>
</table>
<div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;xslt&quot;&gt;foo.xslt&lt;/result&gt;</pre></div>
<p class="paragraph"><h4 class="heading4"> HttpHeader <a name="Result+Types-HttpHeader" ></a></h4></p>A custom Result type for evaluating HTTP headers against the ValueStack.

<table class="wikitable">
<tr>
<th>Parameters </th><th> Required </th><th> Description </th>
</tr><tr>
<td> status </td><td> no </td><td>  the http servlet response status code that should be set on a response </td>
</tr><tr>
<td> parse </td><td> no </td><td> true by default. If set to false, the <b class="strong">headers</b> param will not be parsed for Ognl expressions </td>
</tr><tr>
<td> headers</td><td> no </td><td> header values</td>
</tr>
</table><br/>
Example:
<div class="code"><pre>&lt;result name=&quot;success&quot; type=&quot;header&quot;&gt;&#10;    &lt;param name=&quot;status&quot;&gt;204&lt;/param&gt;&#10;    &lt;param name=&quot;headers.a&quot;&gt;a custom header value&lt;/param&gt;&#10;    &lt;param name=&quot;headers.b&quot;&gt;another custom header value&lt;/param&gt;&#10;&lt;/result&gt;</pre></div>

				    
			    </td>
		    </tr>
	    </table>
    </body>
</html>
