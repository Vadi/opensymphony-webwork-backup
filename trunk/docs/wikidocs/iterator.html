<html>
    <head>
        <title>WebWork - 
        iterator
         </title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <h1><a name="iterator-Description">Description</a></h1>
<p><p>Iterator will iterate over a value. An iterable value can be either of: java.util.Collection,
java.util.Iterator, java.util.Enumeration, java.util.Map, array.</p>
<p/></p>

<h1><a name="iterator-Parameters">Parameters</a></h1>
<p><ul>
		<li>status (String) - if specified, an instanceof IteratorStatus will be pushed into stack upon each iteration</li>
		<li>value (Object) - the source to iterate over, must be iteratable, else an the object itself will be put into a newly created List (see MakeIterator#convert(Object)</li>
		<li>id (String) - if specified the current iteration object will be place with this id in both request and page scope</li>
</ul></p>

<h1><a name="iterator-Examples">Examples</a></h1>
<p><p>The following example retrieves the value of the getDays() method of the current object on the value stack and uses
it to iterate over. The &lt;ww:property/&gt; tag prints out the current value of the iterator.</p></p>
<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;ww:iterator value=<span class="code-quote">"days"</span>&gt;</span>
  <span class="code-tag">&lt;p&gt;</span>day is: <span class="code-tag">&lt;ww:property/&gt;</span><span class="code-tag">&lt;/p&gt;</span>
<span class="code-tag">&lt;/ww:iterator&gt;</span></pre>
</div></div>

<p><p>The following example uses a BeanTag and places it into the ActionContext. The iterator tag will
retrieve that object from the ActionContext and then calls its getDays() method as above. The status attribute is also
used to create a IteratorStatus object, which in this example, its odd() method is used to
alternate row colours:</p></p>
<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;ww:bean name=<span class="code-quote">"'com.opensymphony.webwork.example.IteratorExample'"</span> id=<span class="code-quote">"it"</span>&gt;</span>
  <span class="code-tag">&lt;ww:param name=<span class="code-quote">"'day'"</span> value=<span class="code-quote">"'foo'"</span>/&gt;</span>
  <span class="code-tag">&lt;ww:param name=<span class="code-quote">"'day'"</span> value=<span class="code-quote">"'bar'"</span>/&gt;</span>
<span class="code-tag">&lt;/ww:bean&gt;</span>
<span class="code-tag">&lt;p/&gt;</span>
<span class="code-tag">&lt;table border=<span class="code-quote">"0"</span> cellspacing=<span class="code-quote">"0"</span> cellpadding=<span class="code-quote">"1"</span>&gt;</span>
<span class="code-tag">&lt;tr&gt;</span>
  <span class="code-tag">&lt;th&gt;</span>Days of the week<span class="code-tag">&lt;/th&gt;</span>
<span class="code-tag">&lt;/tr&gt;</span>
<span class="code-tag">&lt;p/&gt;</span>
<span class="code-tag">&lt;ww:iterator value=<span class="code-quote">"#it.days"</span> status=<span class="code-quote">"rowstatus"</span>&gt;</span>
  <span class="code-tag">&lt;tr&gt;</span>
    <span class="code-tag">&lt;ww:if test=<span class="code-quote">"#rowstatus.odd == true"</span>&gt;</span>
      <span class="code-tag">&lt;td style=<span class="code-quote">"background: grey"</span>&gt;</span><span class="code-tag">&lt;ww:property/&gt;</span><span class="code-tag">&lt;/td&gt;</span>
    <span class="code-tag">&lt;/ww:if&gt;</span>
    <span class="code-tag">&lt;ww:else&gt;</span>
      <span class="code-tag">&lt;td&gt;</span><span class="code-tag">&lt;ww:property/&gt;</span><span class="code-tag">&lt;/td&gt;</span>
    <span class="code-tag">&lt;/ww:else&gt;</span>
  <span class="code-tag">&lt;/tr&gt;</span>
<span class="code-tag">&lt;/ww:iterator&gt;</span>
<span class="code-tag">&lt;/table&gt;</span></pre>
</div></div>


<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;webwork:iterator value=<span class="code-quote">"groupDao.groups"</span> status=<span class="code-quote">"groupStatus"</span>&gt;</span>
		<span class="code-tag">&lt;tr class=<span class="code-quote">"&lt;webwork:if test="</span>#groupStatus.odd == true <span class="code-quote">"&gt;</span>odd<span class="code-tag">&lt;/webwork:if&gt;</span><span class="code-tag">&lt;webwork:else&gt;</span>even<span class="code-tag">&lt;/webwork:else&gt;</span>"</span>&gt;
			<span class="code-tag">&lt;td&gt;</span><span class="code-tag">&lt;webwork:property value=<span class="code-quote">"name"</span> /&gt;</span><span class="code-tag">&lt;/td&gt;</span>
			<span class="code-tag">&lt;td&gt;</span><span class="code-tag">&lt;webwork:property value=<span class="code-quote">"description"</span> /&gt;</span><span class="code-tag">&lt;/td&gt;</span>
			<span class="code-tag">&lt;td&gt;</span>
				<span class="code-tag">&lt;webwork:iterator value=<span class="code-quote">"users"</span> status=<span class="code-quote">"userStatus"</span>&gt;</span>
					<span class="code-tag">&lt;webwork:property value=<span class="code-quote">"fullName"</span> /&gt;</span><span class="code-tag">&lt;webwork:if test=<span class="code-quote">"!#userStatus.last"</span>&gt;</span>,<span class="code-tag">&lt;/webwork:if&gt;</span>
				<span class="code-tag">&lt;/webwork:iterator&gt;</span>
			<span class="code-tag">&lt;/td&gt;</span>
		<span class="code-tag">&lt;/tr&gt;</span>
	<span class="code-tag">&lt;/webwork:iterator&gt;</span></pre>
</div></div>

<p></p>
The next example iterates over a an action collection and passes
every iterator value to another action. The trick here lies in the use of the '[0]'
operator. It takes the current iterator value and passes it on to the
edit action. Using the '[0]' operator has the same effect as using
&gt;ww:property /&gt;. (The latter, however, does not work from inside the
param tag).
</p></p>
<div class="code"><div class="codeContent">
<pre class="code-xml"><span class="code-tag">&lt;ww:action name=<span class="code-quote">"entries"</span> id=<span class="code-quote">"entries"</span>/&gt;</span>
		<span class="code-tag">&lt;ww:iterator value=<span class="code-quote">"#entries.entries"</span> &gt;</span>
			<span class="code-tag">&lt;ww:property value=<span class="code-quote">"name"</span> /&gt;</span>
			<span class="code-tag">&lt;ww:property /&gt;</span>
			<span class="code-tag">&lt;ww:push value=<span class="code-quote">"..."</span>&gt;</span>
				<span class="code-tag">&lt;ww:action name=<span class="code-quote">"edit"</span> id=<span class="code-quote">"edit"</span> &gt;</span>
					<span class="code-tag">&lt;ww:param name=<span class="code-quote">"entry"</span> value=<span class="code-quote">"[0]"</span> /&gt;</span>
				<span class="code-tag">&lt;/ww:action&gt;</span>
			<span class="code-tag">&lt;/push&gt;</span>
		<span class="code-tag">&lt;/ww:iterator&gt;</span></pre>
</div></div>

                    			    </td>
		    </tr>
	    </table>
    </body>
</html>
