<html>
    <head>
        <title>Validation Examples</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">

				    <p class="paragraph">Included in the <a href="http://wiki.opensymphony.com//display/WW/WebWork">WW:WebWork</a> example war file is an example of using the <a href="http://wiki.opensymphony.com//display/XW/Validation%2BFramework">XW:Validation Framework</a> in WebWork2. This example consists of three links which all use the same Action Class and view pages (Velocity).
<h2 class="heading2"> The sources</h2></p>First, I had to add the <b class="strong">validators.xml</b> file to the root of the source tree for the example app
<div class="code"><pre>&lt;validators&gt;&#10;    &lt;validator name=&quot;required&quot; class=&quot;com.opensymphony.xwork.validator.validators.RequiredFieldValidator&quot;/&gt;&#10;    &lt;validator name=&quot;requiredstring&quot; class=&quot;com.opensymphony.xwork.validator.validators.RequiredStringValidator&quot;/&gt;&#10;    &lt;validator name=&quot;int&quot; class=&quot;com.opensymphony.xwork.validator.validators.IntRangeFieldValidator&quot;/&gt;&#10;    &lt;validator name=&quot;date&quot; class=&quot;com.opensymphony.xwork.validator.validators.DateRangeFieldValidator&quot;/&gt;&#10;    &lt;validator name=&quot;expression&quot; class=&quot;com.opensymphony.xwork.validator.validators.ExpressionValidator&quot;/&gt;&#10;    &lt;validator name=&quot;fieldexpression&quot; class=&quot;com.opensymphony.xwork.validator.validators.FieldExpressionValidator&quot;/&gt;&#10;    &lt;validator name=&quot;email&quot; class=&quot;com.opensymphony.xwork.validator.validators.EmailValidator&quot;/&gt;&#10;    &lt;validator name=&quot;url&quot; class=&quot;com.opensymphony.xwork.validator.validators.URLValidator&quot;/&gt;&#10;    &lt;validator name=&quot;visitor&quot; class=&quot;com.opensymphony.xwork.validator.validators.VisitorFieldValidator&quot;/&gt;&#10;&lt;/validators&gt;</pre></div><p class="paragraph">The Action class used by all of the validation examples is <b class="strong">ValidatedAction</b>
<div class="code"><pre><span class="java&#45;keyword">package</span> com.opensymphony.webwork.example;&#10;&#10;<span class="java&#45;keyword">import</span> com.opensymphony.xwork.ActionSupport;&#10;&#10;/&#42;&#42;&#10; &#42; ValidatedAction&#10; &#42; &#64;author Jason Carreira&#10; &#42; Created Sep 12, 2003 9&#58;23&#58;38 PM&#10; &#42;/&#10;<span class="java&#45;keyword">public</span> class ValidatedAction <span class="java&#45;keyword">extends</span> ActionSupport &#123;&#10;    <span class="java&#45;keyword">private</span> ValidatedBean bean = <span class="java&#45;keyword">new</span> ValidatedBean();&#10;    <span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> name;&#10;    <span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> validationAction = &quot;basicValidation.action&quot;;&#10;&#10;    <span class="java&#45;keyword">public</span> ValidatedBean getBean() &#123;&#10;        <span class="java&#45;keyword">return</span> bean;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> void setBean(ValidatedBean bean) &#123;&#10;        <span class="java&#45;keyword">this</span>.bean = bean;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getName() &#123;&#10;        <span class="java&#45;keyword">return</span> name;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> void setName(<span class="java&#45;object">String</span> name) &#123;&#10;        <span class="java&#45;keyword">this</span>.name = name;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getValidationAction() &#123;&#10;        <span class="java&#45;keyword">return</span> validationAction;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> void setValidationAction(<span class="java&#45;object">String</span> validationAction) &#123;&#10;        <span class="java&#45;keyword">this</span>.validationAction = validationAction;&#10;    &#125;&#10;&#125;</pre></div></p>The base validation file for the ValidatedAction is <b class="strong">ValidatedAction-validation.xml</b>
<div class="code"><pre>&lt;&#33;DOCTYPE validators PUBLIC &quot;&#45;//OpenSymphony Group//XWork Validator 1.0//EN&quot; &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;validator&#45;1.0.dtd&quot;&gt;&#10;&lt;validators&gt;&#10;    &lt;field name=&quot;name&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;            &lt;message&gt;You must enter a name.&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;&lt;/validators&gt;</pre></div><br/>
This and all other validation files are placed in the same package as the classes to which they apply.<p class="paragraph">The form for this Action is <b class="strong">validationForm.vm</b>
<div class="code"><pre>&lt;html&gt;&#10;&lt;head&gt;&lt;title&gt;Webwork Validation Example&lt;/title&gt;&lt;/head&gt;&#10;&lt;body&gt;&#10;#<span class="java&#45;keyword">if</span>( $actionErrors.size() &gt; 0 )&#10;&lt;p&gt;&#10;&lt;font color=&quot;red&quot;&gt;&#10;&lt;b&gt;ERRORS&#58;&lt;/b&gt;&lt;br&gt;&#10;&lt;ul&gt;&#10;#foreach( $error in $actionErrors )&#10;&lt;li&gt;$error&lt;/li&gt;&#10;#end&#10;&lt;/ul&gt;&#10;&lt;/font&gt;&#10;&lt;/p&gt;&#10;#end&#10;&lt;p&gt;&#10;&lt;form name=&quot;myForm&quot; action=&quot;$&#123;validationAction&#125;&quot; method=&quot;POST&quot;&gt;&#10;&lt;input type=&quot;hidden&quot; name=&quot;validationAction&quot; value=&quot;$&#123;validationAction&#125;&quot;/&gt;&#10;Action Properties&#58;&#10;&lt;br&gt;&#10;&lt;table&gt;&#10;#tag( TextField &quot;label=Name&quot; &quot;name=name&quot; &quot;value=name&quot; )&#10;&lt;/table&gt;&#10;Bean Properties&#58;&#10;#<span class="java&#45;keyword">if</span>( $stack.findValue(&quot;fieldErrors&quot;) )&#10;    #set( $beanErrors = $stack.findValue(&quot;fieldErrors.get(&#039;bean&#039;)&quot;) )&#10;    #<span class="java&#45;keyword">if</span>( $beanErrors.size() &gt; 0 )&#10;    &lt;br&gt;&#10;    &lt;font color=&quot;red&quot;&gt;&#10;    &lt;b&gt;Bean Errors&#58;&lt;/b&gt;&lt;br&gt;&#10;    &lt;ul&gt;&#10;    #foreach( $beanError in $beanErrors )&#10;    &lt;li&gt;$beanError&lt;/li&gt;&#10;    #end&#10;    &lt;/ul&gt;&#10;    &lt;/font&gt;&#10;    #end&#10;#end&#10;&lt;table&gt;&#10;#tag( TextField &quot;label=Bean.Text&quot; &quot;name=bean.text&quot; &quot;value=bean.text&quot; )&lt;br&gt;&#10;#tag( TextField &quot;label=Bean.Date&quot; &quot;name=bean.date&quot; &quot;value=bean.date&quot; )&lt;br&gt;&#10;#tag( TextField &quot;label=Bean.<span class="java&#45;object">Number</span>&quot; &quot;name=bean.number&quot; &quot;value=bean.number&quot; )&lt;br&gt;&#10;#tag( TextField &quot;label=Bean.Number2&quot; &quot;name=bean.number2&quot; &quot;value=bean.number2&quot; )&lt;br&gt;&#10;&lt;/table&gt;&#10;&lt;input type=&quot;submit&quot; value=&quot;Test Validation&quot;/&gt;&#10;&lt;/form&gt;&#10;&lt;/body&gt;</pre></div></p>The success page for these examples is a very simple page, <b class="strong">valid.vm</b>
<div class="code"><pre>&lt;html&gt;&#10;&lt;head&gt;&lt;title&gt;WebWork Validation Test&#58; Valid&lt;/title&gt;&lt;/head&gt;&#10;&lt;body&gt;&#10;Input was valid&#33;&#10;&lt;/body&gt;&#10;&lt;/html&gt;</pre></div><p class="paragraph">We&#039;ll look at any other example-specific configuration files as we get to them.
<h2 class="heading2"> <a name="Validation+Examples-BasicValidation" ></a> Basic Validation</h2></p>The BasicValidation example is defined in the example <b class="strong">xwork.xml</b> file like this
<div class="code"><pre>&lt;action name=&quot;basicValidation&quot; class=&quot;com.opensymphony.webwork.example.ValidatedAction&quot;&gt;&#10;            &lt;interceptor&#45;ref name=&quot;validationWorkflowStack&quot;/&gt;&#10;&#10;            &lt;result name=&quot;success&quot; type=&quot;dispatcher&quot;&gt;valid.vm&lt;/result&gt;&#10;            &lt;result name=&quot;input&quot; type=&quot;dispatcher&quot;&gt;validationForm.vm&lt;/result&gt;&#10;            &lt;result name=&quot;error&quot; type=&quot;dispatcher&quot;&gt;validationForm.vm&lt;/result&gt;&#10;        &lt;/action&gt;</pre></div><p class="paragraph">The <b class="strong">interceptor-ref</b> here, to <b class="strong">&quot;validationWorkflowStack&quot;</b>, is defined in webwork-default.xml and provides the parameter interceptors as well as the ValidationInterceptor (see <a href="http://wiki.opensymphony.com//display/XW/Validation%2BFramework">XW:Validation Framework</a> and the DefaultWorkFlowInterceptor (see <a href="http://wiki.opensymphony.com//display/XW/Interceptors">DefaultWorkflow</a>). All of the parameters from the configuration file (there are none in this case) followed by the parameters from the request will be set onto the Action. Next, the validations will be run, and finally the DefaultWorkflow will be applied (see <a href="http://wiki.opensymphony.com//display/XW/Interceptors">DefaultWorkflow</a>).</p>This example is very simple, and the ValidatedAction-validation.xml file is the only set of Validations which will be applied. This means that the only validation done is that you enter some text for the name field.
<h2 class="heading2"> <a name="Validation+Examples-VisitorValidation" ></a> Visitor Validation Example</h2><p class="paragraph">The <b class="strong">ValidatedAction</b> holds a reference to a plain Java bean, <b class="strong">ValidatedBean</b>:
<div class="code"><pre><span class="java&#45;keyword">package</span> com.opensymphony.webwork.example;&#10;&#10;<span class="java&#45;keyword">import</span> java.util.Date;&#10;&#10;/&#42;&#42;&#10; &#42; ValidatedBean&#10; &#42; &#64;author Jason Carreira&#10; &#42; Created Sep 12, 2003 9&#58;24&#58;18 PM&#10; &#42;/&#10;<span class="java&#45;keyword">public</span> class ValidatedBean &#123;&#10;    <span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> text;&#10;    <span class="java&#45;keyword">private</span> Date date = <span class="java&#45;keyword">new</span> Date(<span class="java&#45;object">System</span>.currentTimeMillis());&#10;    <span class="java&#45;keyword">private</span> <span class="java&#45;object">int</span> number;&#10;    <span class="java&#45;keyword">private</span> <span class="java&#45;object">int</span> number2;&#10;    <span class="java&#45;keyword">public</span> <span class="java&#45;keyword">static</span> <span class="java&#45;keyword">final</span> <span class="java&#45;object">int</span> MAX&#95;TOTAL = 12;&#10;&#10;    <span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getText() &#123;&#10;        <span class="java&#45;keyword">return</span> text;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> void setText(<span class="java&#45;object">String</span> text) &#123;&#10;        <span class="java&#45;keyword">this</span>.text = text;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> Date getDate() &#123;&#10;        <span class="java&#45;keyword">return</span> date;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> void setDate(Date date) &#123;&#10;        <span class="java&#45;keyword">this</span>.date = date;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> <span class="java&#45;object">int</span> getNumber() &#123;&#10;        <span class="java&#45;keyword">return</span> number;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> void setNumber(<span class="java&#45;object">int</span> number) &#123;&#10;        <span class="java&#45;keyword">this</span>.number = number;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> <span class="java&#45;object">int</span> getNumber2() &#123;&#10;        <span class="java&#45;keyword">return</span> number2;&#10;    &#125;&#10;&#10;    <span class="java&#45;keyword">public</span> void setNumber2(<span class="java&#45;object">int</span> number2) &#123;&#10;        <span class="java&#45;keyword">this</span>.number2 = number2;&#10;    &#125;&#10;&#125;</pre></div></p>The base validation file for the ValidatedBean is <b class="strong">ValidatedBean-validation.xml</b>
<div class="code"><pre>&lt;&#33;DOCTYPE validators PUBLIC &quot;&#45;//OpenSymphony Group//XWork Validator 1.0//EN&quot; &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;validator&#45;1.0.dtd&quot;&gt;&#10;&lt;validators&gt;&#10;    &lt;field name=&quot;text&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;            &lt;message key=&quot;invalid.text&quot;&gt;Empty Text&#33;&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;    &lt;field name=&quot;date&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;date&quot;&gt;&#10;            &lt;param name=&quot;min&quot;&gt;01/01/1970&lt;/param&gt;&#10;            &lt;message key=&quot;invalid.date&quot;&gt;Invalid Date&#33;&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;    &lt;field name=&quot;number&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;int&quot;&gt;&#10;            &lt;param name=&quot;min&quot;&gt;1&lt;/param&gt;&#10;            &lt;param name=&quot;max&quot;&gt;10&lt;/param&gt;&#10;            &lt;message key=&quot;invalid.number&quot;&gt;Invalid Number&#33;&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;&lt;/validators&gt;</pre></div><p class="paragraph">In the Visitor Validation Example, we add a <b class="strong">VisitorFieldValidator</b> to apply these validations to our <b class="strong">ValidatedBean</b>. The Action is defined in our <b class="strong">xwork.xml</b> file like this:
<div class="code"><pre>&lt;action name=&quot;visitorValidation&quot; class=&quot;com.opensymphony.webwork.example.ValidatedAction&quot;&gt;&#10;            &lt;interceptor&#45;ref name=&quot;validationWorkflowStack&quot;/&gt;&#10;            &lt;param name=&quot;validationAction&quot;&gt;visitorValidation.action&lt;/param&gt;&#10;            &lt;result name=&quot;success&quot;&gt;valid.vm&lt;/result&gt;&#10;            &lt;result name=&quot;input&quot;&gt;validationForm.vm&lt;/result&gt;&#10;            &lt;result name=&quot;error&quot;&gt;validationForm.vm&lt;/result&gt;&#10;        &lt;/action&gt;</pre></div></p>Here we see a slight difference from the basic validation example above. I&#039;ve added a static param to the Action which will be applied to the Action by the static-param interceptor. This parameter only sets the value for the action to post the form to for validation (see <b class="strong">validationForm.vm</b>). <p class="paragraph">The Action name above, <em class="emphasis">visitorValidation</em> is mapped to another set of validations defined in the file <b class="strong">ValidatedAction-visitorValidation-validation.xml</b>
<div class="code"><pre>&lt;&#33;DOCTYPE validators PUBLIC &quot;&#45;//OpenSymphony Group//XWork Validator 1.0//EN&quot; &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;validator&#45;1.0.dtd&quot;&gt;&#10;&lt;validators&gt;&#10;    &lt;field name=&quot;bean&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;required&quot;&gt;&#10;            &lt;message&gt;The bean must not be null.&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;        &lt;field&#45;validator type=&quot;visitor&quot;&gt;&#10;            &lt;message&gt;bean&#58; &lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;&lt;/validators&gt;</pre></div></p>This file is found automatically by the validation framework based on the class name (ValidatedAction), the action alias, which is used as the validation context (visitorValidation) and the standard suffix (-validation.xml) to form the filename <b class="strong">ValidatedAction-visitorValidation-validation.xml</b>.<p class="paragraph">This file defines two validators for the &quot;bean&quot; field, a required validator which makes sure the bean is not null, and a VisitorFieldValidator. The VisitorFieldValidator will apply the validators for the <b class="strong">ValidatedBean</b> using the same validation context as is used in validating <b class="strong">ValidatedAction</b>, <em class="emphasis">visitorValidation</em>. It therefore looks for the validation files <b class="strong">ValidatedBean-validation.xml</b> (the default validations for the ValidatedBean) and <b class="strong">ValidatedBean-visitorValidation-validation.xml</b> (the validations specific to this validation context) , in that order.</p>The <b class="strong">ValidatedBean-validation.xml</b> looks like this:

<div class="code"><pre>&lt;&#33;DOCTYPE validators PUBLIC &quot;&#45;//OpenSymphony Group//XWork Validator 1.0//EN&quot; &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;validator&#45;1.0.dtd&quot;&gt;&#10;&lt;validators&gt;&#10;    &lt;field name=&quot;text&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;            &lt;message key=&quot;invalid.text&quot;&gt;Empty Text&#33;&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;    &lt;field name=&quot;date&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;date&quot;&gt;&#10;            &lt;param name=&quot;min&quot;&gt;01/01/1970&lt;/param&gt;&#10;            &lt;message key=&quot;invalid.date&quot;&gt;Invalid Date&#33;&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;    &lt;field name=&quot;number&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;int&quot;&gt;&#10;            &lt;param name=&quot;min&quot;&gt;1&lt;/param&gt;&#10;            &lt;param name=&quot;max&quot;&gt;10&lt;/param&gt;&#10;            &lt;message key=&quot;invalid.number&quot;&gt;Invalid Number&#33;&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;&lt;/validators&gt;</pre></div><p class="paragraph">This file applies validations for three fields (text, date, and number) and gives message keys and default messages for each of them. These message keys will be used to look up messages from a resource bundle specific to the <b class="strong">ValidatedBean</b> class. In the same package as the <b class="strong">ValidatedBean</b> is a file named <b class="strong">ValidatedBean.properties</b>
<div class="code"><pre>invalid.date=You must enter a date after $&#123;min&#125;.&#10;invalid.text=You must enter some text.&#10;invalid.number=You must enter a number between $&#123;min&#125; and $&#123;max&#125;.&#10;invalid.total=The total of number and number2 must be less than $&#123;&#64;com.opensymphony.webwork.example.ValidatedBean&#64;MAX&#95;TOTAL&#125;.</pre></div></p>These messages will be used for any errors added for the <b class="strong">ValidatedBean</b> using a message key. As you can see from the body of the messages, they can be parameterized with properties from the Bean, the Interceptor, and the Action (and they will be searched in that order). There is also an example of using a Static field <b class="strong">$&#123;@com.opensymphony.webwork.example.ValidatedBean@MAX_TOTAL}</b>.<p class="paragraph">The <b class="strong">ValidatedBean-visitorValidation-validation.xml</b> file would define validations specific for the <em class="emphasis">visitorValidation</em> validation context, but it is not there, so it is ignored.
<h2 class="heading2"> <a name="Validation+Examples-Expression" ></a> Visitor Validation with the Expression Validator</h2></p>The final example shows a similar setup to the previous visitor validation example. The <b class="strong">xwork.xml</b> configuration for this example is very similar to the <b class="strong">visitorValidation</b> example:
<div class="code"><pre>&lt;action name=&quot;expressionValidation&quot; class=&quot;com.opensymphony.webwork.example.ValidatedAction&quot;&gt;&#10;            &lt;interceptor&#45;ref name=&quot;validationWorkflowStack&quot;/&gt;&#10;            &lt;param name=&quot;validationAction&quot;&gt;expressionValidation.action&lt;/param&gt;&#10;            &lt;result name=&quot;success&quot;&gt;valid.vm&lt;/result&gt;&#10;            &lt;result name=&quot;input&quot;&gt;validationForm.vm&lt;/result&gt;&#10;            &lt;result name=&quot;error&quot;&gt;validationForm.vm&lt;/result&gt;&#10;        &lt;/action&gt;</pre></div><p class="paragraph">The <b class="strong">ValidatedAction-expressionValidation-validation.xml</b> file defines the validations specific to this validation context:
<div class="code"><pre>&lt;&#33;DOCTYPE validators PUBLIC &quot;&#45;//OpenSymphony Group//XWork Validator 1.0//EN&quot; &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;validator&#45;1.0.dtd&quot;&gt;&#10;&lt;validators&gt;&#10;    &lt;field name=&quot;bean&quot;&gt;&#10;        &lt;field&#45;validator type=&quot;required&quot;&gt;&#10;            &lt;message&gt;The bean must not be null.&lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;        &lt;field&#45;validator type=&quot;visitor&quot;&gt;&#10;            &lt;param name=&quot;context&quot;&gt;expression&lt;/param&gt;&#10;            &lt;message&gt;bean&#58; &lt;/message&gt;&#10;        &lt;/field&#45;validator&gt;&#10;    &lt;/field&gt;&#10;&lt;/validators&gt;</pre></div></p>This is almost identical to the <b class="strong">ValidatedAction-visitorValidation-validation.xml</b> file, but shows an example of passing a context param to the <b class="strong">VisitorFieldValidator</b>. In this case, rather than using the same validation context as is used for the <b class="strong">ValidatedAction</b> (<em class="emphasis">expressionValidation</em>), it passes another context (<em class="emphasis">expression</em>) to be used instead. <p class="paragraph">In this case, the validation context specific validations for the <b class="strong">ValidatedBean</b> is present, and it&#039;s named <b class="strong">ValidatedBean-expression-validation.xml</b>
<div class="code"><pre>&lt;&#33;DOCTYPE validators PUBLIC &quot;&#45;//OpenSymphony Group//XWork Validator 1.0//EN&quot; &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;validator&#45;1.0.dtd&quot;&gt;&#10;&lt;validators&gt;&#10;    &lt;validator type=&quot;expression&quot;&gt;&#10;        &lt;param name=&quot;expression&quot;&gt;&#64;com.opensymphony.webwork.example.ValidatedBean&#64;MAX&#95;TOTAL &gt; (number &#43; number2)&lt;/param&gt;&#10;        &lt;message key=&quot;invalid.total&quot;&gt;Invalid total&#33;&lt;/message&gt;&#10;    &lt;/validator&gt;&#10;&lt;/validators&gt;</pre></div><br/>
This adds an object-level (as opposed to field-level) ExpressionValidator which checks the total of the number and number2 fields against a static constant, and adds an error message if the total is more than the constant.
<h2 class="heading2"> <a name="Validation+Examples-ErrorMessages" ></a> A note about error messages with the VisitorFieldValidator</h2></p>With the VisitorFieldValidator, message field names are appended with the field name of the field in the Action. In this case, the fields &quot;<em class="emphasis">text</em>&quot;, &quot;<em class="emphasis">date</em>&quot;, and &quot;<em class="emphasis">number</em>&quot; in the <b class="strong">ValidatedBean</b> would be added as field error messages to the Action with field names &quot;<em class="emphasis">bean.text</em>&quot;, &quot;<em class="emphasis">bean.date</em>&quot;, and &quot;<em class="emphasis">bean.number</em>&quot;. The error messages added for the object-level ExpressionValidator applied in the last example will be added as field-level errors to the Action with the name &quot;<em class="emphasis">bean</em>&quot;.

				    
			    </td>
		    </tr>
	    </table>
    </body>
</html>
