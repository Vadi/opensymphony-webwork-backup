<html>
    <head>
        <title>TutorialLesson04-02</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">

				    <p class="paragraph"><h1 class="heading1"> Lesson 4.2: Using Velocity with WebWork</h1></p>There are two ways of using Velocity as the view.
<ul class="star">
<li> Using the <tt class="monospaced">velocity</tt> result-type to render velocity templates;</li>
<li> Registering <tt class="monospaced">WebWorkVelocityServlet</tt> in your <tt class="monospaced">web.xml</tt> file to render Velocity templates accessed directly through browser requests.</li>
</ul><br/>
To use the second approach, we have to modify <tt class="monospaced">web.xml</tt> and add a servlet and a servlet mapping for <tt class="monospaced">WebWorkVelocityServlet</tt>, as demonstrated below:

<div class="code"><pre>&lt;servlet&gt; &#10;	&lt;servlet&#45;name&gt;velocity&lt;/servlet&#45;name&gt; &#10;	&lt;servlet&#45;class&gt;com.opensymphony.webwork.views.velocity.WebWorkVelocityServlet&lt;/servlet&#45;class&gt; &#10;	&lt;load&#45;on&#45;startup&gt;1&lt;/load&#45;on&#45;startup&gt; &#10;&lt;/servlet&gt; &#10;&#10;&lt;servlet&#45;mapping&gt; &#10;	&lt;servlet&#45;name&gt;velocity&lt;/servlet&#45;name&gt; &#10;	&lt;url&#45;pattern&gt;&#42;.vm&lt;/url&#45;pattern&gt; &#10;&lt;/servlet&#45;mapping&gt;</pre></div>

<blockquote class="blockquote"> Read more: <a href="xwork.xml.html">xwork.xml</a></blockquote><p class="paragraph">Using <tt class="monospaced">velocity</tt> result-type means that Velocity templates can only be rendered through an action, i.e., request to <tt class="monospaced">.vm</tt> pages will not render the file and it will be returned as plain text. If you choose this approach, it&#039;s recommended that you place your Velocity files under <tt class="monospaced">WEB-INF</tt> so they become unaccessible.</p>Using <tt class="monospaced">WebWorkVelocityServlet</tt> means that Velocity templates can be rendered through requests to <tt class="monospaced">.vm</tt> pages. That also means that you should implement security checks in your templates so an user doesn&#039;t access it directly witout going through an action first (if that is required). <p class="paragraph">No matter which approach you choose (and you can choose to use both at the same time), not only all the features from Velocity are available to you when you&#039;re writing templates, but also some other functionalities, specific of WebWork, are available. It is supposed that you are already familiar with Velocity, so we will focus only in the WebWork-specific features. If that&#039;s not the case, please <span class="nobr"><a href="http://jakarta.apache.org/velocity/getting-started.html">get started with Velocity<sup><img src="./icons/linkext7.gif" height="7" width="7" align="absmiddle" alt="&gt;&gt;" border="0"/></sup></a></span> before continuing.</p>The main feature of it is to provide easy access to objects that are on the Value Stack, which contains some things that WebWork provides to you automatically, because you may find them useful at some point. These are some of the things that are available in the value stack:
<ul class="star">
<li> The current <tt class="monospaced">HttpServletRequest</tt>;</li>
<li> The current <tt class="monospaced">HttpServletResponse</tt>;</li>
<li> The current <tt class="monospaced">OgnlValueStack</tt>;</li>
<li> An instance of <tt class="monospaced">OgnlTool</tt>;</li>
<li> All the properties of the current action class.</li>
</ul><br/>
To access the objects in the value stack, all you have to do is use appropriate Velocity references:
<ul class="star">
<li> <b class="strong"><tt class="monospaced">$req</tt></b> = <tt class="monospaced">HttpServletRequest</tt>;</li>
<li> <b class="strong"><tt class="monospaced">$res</tt></b> = <tt class="monospaced">HttpServletResponse</tt>;</li>
<li> <b class="strong"><tt class="monospaced">$stack</tt></b> = <tt class="monospaced">OgnlValueStack</tt>;</li>
<li> <b class="strong"><tt class="monospaced">$ognl</tt></b> = <tt class="monospaced">OgnlTool</tt>;</li>
<li> <b class="strong"><tt class="monospaced">$name-of-property</tt></b> = property of the current action class.</li>
</ul><br/>
The example below does the same thing as the Hello example from <a href="TutorialLesson03.html">lesson 3</a>, but now, using a Velocity template as the result. Notice that the <tt class="monospaced">&lt;property value=&quot;person&quot; /&gt;</tt> tag was replaced by the <tt class="monospaced">$person</tt> reference, which returns the same thing: a property from the action class. In this example we chose to use the <em class="emphasis"><tt class="monospaced">velocity</tt> result-type</em> approach.<p class="paragraph"><h3 class="heading3"> xwork.xml:</h3>
<div class="code"><pre>&lt;&#33;DOCTYPE xwork PUBLIC &quot;&#45;//OpenSymphony Group//XWork 1.0//EN&quot; &#10;&quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;1.0.dtd&quot;&gt;&#10;&#10;&lt;xwork&gt;&#10;	&lt;&#33;&#45;&#45; Include webwork defaults (from WebWork&#45;2.1 JAR). &#45;&#45;&gt;&#10;	&lt;include file=&quot;webwork&#45;default.xml&quot; /&gt;&#10;	&#10;	&lt;&#33;&#45;&#45; Configuration for the default package. &#45;&#45;&gt;&#10;	&lt;package name=&quot;default&quot; extends=&quot;webwork&#45;default&quot;&gt;&#10;		&lt;&#33;&#45;&#45; Default interceptor stack. &#45;&#45;&gt; &#10;		&lt;default&#45;interceptor&#45;ref name=&quot;defaultStack&quot; /&gt; &#10;		&#10;		&lt;&#33;&#45;&#45; Action&#58; Lesson 4.2&#58; HelloAction using Velocity as result. &#45;&#45;&gt;&#10;		&lt;action name=&quot;helloVelocity&quot; class=&quot;lesson03.HelloAction&quot;&gt;&#10;			&lt;result name=&quot;error&quot; type=&quot;dispatcher&quot;&gt;ex01&#45;index.jsp&lt;/result&gt;&#10;			&lt;result name=&quot;success&quot; type=&quot;velocity&quot;&gt;ex01&#45;success.vm&lt;/result&gt;&#10;		&lt;/action&gt;&#10;	&lt;/package&gt;&#10;&lt;/xwork&gt;</pre></div></p><h3 class="heading3"> HelloAction.java (same as lesson 3):</h3>
<div class="code"><pre><span class="java&#45;keyword">package</span> lesson03;&#10;&#10;<span class="java&#45;keyword">import</span> com.opensymphony.xwork.ActionSupport;&#10;&#10;<span class="java&#45;keyword">public</span> class HelloAction <span class="java&#45;keyword">extends</span> ActionSupport &#123;&#10;	<span class="java&#45;object">String</span> person;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getPerson() &#123;&#10;		<span class="java&#45;keyword">return</span> person;&#10;	&#125;&#10;	<span class="java&#45;keyword">public</span> void setPerson(<span class="java&#45;object">String</span> person) &#123;&#10;		<span class="java&#45;keyword">this</span>.person = person;&#10;	&#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> execute() <span class="java&#45;keyword">throws</span> Exception &#123;&#10;		<span class="java&#45;keyword">if</span> ((person == <span class="java&#45;keyword">null</span>) || (person.length() == 0)) <span class="java&#45;keyword">return</span> ERROR;&#10;		<span class="java&#45;keyword">else</span> <span class="java&#45;keyword">return</span> SUCCESS;&#10;	&#125;&#10;&#125;</pre></div><p class="paragraph"><h3 class="heading3"> ex01-index.jsp (same as lesson 3):</h3>
<div class="code"><pre>&lt;html&gt;&#10;&lt;head&gt;&#10;&lt;title&gt;WebWork Tutorial &#45; Lesson 3 &#45; Example 2&lt;/title&gt;&#10;&lt;/head&gt;&#10;&#10;&lt;body&gt;&#10;&#10;&lt;p&gt;What&#039;s your name&#63;&lt;/p&gt;&#10;&#10;&lt;form action=&quot;hello.action&quot; method=&quot;post&quot;&gt;&#10;&lt;p&gt;&lt;input type=&quot;text&quot; name=&quot;person&quot; /&gt;&lt;input type=&quot;submit&quot; /&gt;&lt;/p&gt;&#10;&lt;/form&gt;&#10;&#10;&lt;/body&gt;&#10;&lt;/html&gt;</pre></div></p><h3 class="heading3"> ex01-success.vm:</h3>
<div class="code"><pre>&lt;html&gt; &#10;&lt;head&gt; &#10;&lt;title&gt;WebWork Tutorial &#45; Lesson 4.2 &#45; Example 1&lt;/title&gt; &#10;&lt;/head&gt; &#10;&lt;body&gt; &#10;&#10;Hello, $person &#10;&#10;&lt;/body&gt; &#10;&lt;/html&gt;</pre></div>

<blockquote class="blockquote"> <a href="TutorialExamples.html">Try the example!</a></blockquote>
<p class="paragraph"><h2 class="heading2"> Using WebWork Tags from Velocity:</h2></p>As you already know, when you switch from JSP to Velocity you lose the ability of using JSP Tags. But WebWork&#039;s Velocity Servlet provides a way of doing this through the use of <tt class="monospaced">#tag</tt>, <tt class="monospaced">#bodytag</tt> and <tt class="monospaced">#param</tt> velocimacros. The general syntax is:

<div class="code"><pre>#tag (name&#45;of&#45;tag list&#45;of&#45;attributes)</pre></div><p class="paragraph">&#8211; or &#8211;</p><div class="code"><pre>#bodytag (name&#45;of&#45;tag list&#45;of&#45;attributes)&#10;	#param (key value)&#10;	#param (key value)&#10;...&#10;#end</pre></div><p class="paragraph">Let&#039;s revisit <a href="TutorialLesson04-01-01.html">lesson 4.1.1</a>&#039;s form example to demonstrate the usage of the UI tags from velocity:</p><h3 class="heading3"> xwork.xml:</h3>
<div class="code"><pre>&lt;&#33;DOCTYPE xwork PUBLIC &quot;&#45;//OpenSymphony Group//XWork 1.0//EN&quot; &#10;&quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;1.0.dtd&quot;&gt;&#10;&#10;&lt;xwork&gt;&#10;	&lt;&#33;&#45;&#45; Include webwork defaults (from WebWork&#45;2.1 JAR). &#45;&#45;&gt;&#10;	&lt;include file=&quot;webwork&#45;default.xml&quot; /&gt;&#10;	&#10;	&lt;&#33;&#45;&#45; Configuration for the default package. &#45;&#45;&gt;&#10;	&lt;package name=&quot;default&quot; extends=&quot;webwork&#45;default&quot;&gt;&#10;		&lt;&#33;&#45;&#45; Default interceptor stack. &#45;&#45;&gt; &#10;		&lt;default&#45;interceptor&#45;ref name=&quot;defaultStack&quot; /&gt; &#10;		&#10;		&lt;&#33;&#45;&#45; Actions&#58; Lesson 4.2&#58; FormProcessingAction using Velocity. &#45;&#45;&gt; &#10;		&lt;action name=&quot;formProcessingVelocityIndex&quot; class=&quot;lesson04&#95;02.FormProcessingIndexAction&quot;&gt;&#10;			&lt;result name=&quot;success&quot; type=&quot;velocity&quot;&gt;ex02&#45;index.vm&lt;/result&gt;&#10;		&lt;/action&gt;&#10;		&lt;action name=&quot;formProcessingVelocity&quot; class=&quot;lesson04&#95;01&#95;01.FormProcessingAction&quot;&gt; &#10;			&lt;result name=&quot;input&quot; type=&quot;velocity&quot;&gt;ex02&#45;index.vm&lt;/result&gt; &#10;			&lt;result name=&quot;success&quot; type=&quot;velocity&quot;&gt;ex02&#45;success.vm&lt;/result&gt; &#10;			&lt;interceptor&#45;ref name=&quot;validationWorkflowStack&quot; /&gt; &#10;		&lt;/action&gt; &#10;	&lt;/package&gt;&#10;&lt;/xwork&gt;</pre></div><p class="paragraph"><h3 class="heading3"> ex02-index.vm:</h3>
<div class="code"><pre>&lt;html&gt; &#10;&lt;head&gt; &#10;&lt;title&gt;WebWork Tutorial &#45; Lesson 4.2 &#45; Example 2&lt;/title&gt; &#10;&lt;style type=&quot;text/css&quot;&gt; &#10;  .errorMessage &#123; color&#58; red; &#125; &#10;&lt;/style&gt;   &#10;&lt;/head&gt; &#10;&#10;&lt;body&gt; &#10;&#10;&lt;p&gt;UI Form Tags Example using Velocity&#58;&lt;/p&gt; &#10;&#10;#bodytag (Form &quot;action=&#039;formProcessingVelocity.action&#039;&quot; &quot;method=&#039;post&#039;&quot;) &#10;	#tag (Checkbox &quot;name=&#039;checkbox&#039;&quot; &quot;label=&#039;A checkbox&#039;&quot; &quot;fieldValue=&#039;checkbox&#95;value&#039;&quot;) &#10;	#tag (File &quot;name=&#039;file&#039;&quot; &quot;label=&#039;A file field&#039;&quot;) &#10;	#tag (Hidden &quot;name=&#039;hidden&#039;&quot; &quot;value=&#039;hidden&#95;value&#039;&quot;) &#10;	#tag (Label &quot;label=&#039;A label&#039;&quot;) &#10;	#tag (Password &quot;name=&#039;password&#039;&quot; &quot;label=&#039;A password field&#039;&quot;) &#10;	#tag (Radio &quot;name=&#039;radio&#039;&quot; &quot;label=&#039;Radio buttons&#039;&quot; &quot;list=&#123;&#039;One&#039;, &#039;Two&#039;, &#039;Three&#039;&#125;&quot;) &#10;	#tag (Select &quot;name=&#039;select&#039;&quot; &quot;label=&#039;A select list&#039;&quot; &quot;list=&#123;&#039;One&#039;, &#039;Two&#039;, &#039;Three&#039;&#125;&quot; &#10;		&quot;emptyOption=<span class="java&#45;keyword">true</span>&quot;) &#10;	#tag (Textarea &quot;name=&#039;textarea&#039;&quot; &quot;label=&#039;A text area&#039;&quot; &quot;rows=&#039;3&#039;&quot; &quot;cols=&#039;40&#039;&quot;) &#10;	#tag (TextField &quot;name=&#039;textfield&#039;&quot; &quot;label=&#039;A text field&#039;&quot;) &#10;	#tag (Submit &quot;value=&#039;Send Form&#039;&quot;) &#10;#end &#10;&#10;&lt;/body&gt; &#10;&lt;/html&gt;</pre></div></p><h3 class="heading3"> ex02-success.vm:</h3>
<div class="code"><pre>&lt;html&gt; &#10;&lt;head&gt; &#10;&lt;title&gt;WebWork Tutorial Lesson 4.2 &#45; Example 2&lt;/title&gt; &#10;&lt;/head&gt; &#10;&#10;&lt;body&gt; &#10;&#10;&lt;p&gt;UI Form Tags Example result using Velocity&#58;&lt;/p&gt; &#10;&#10;&lt;ul&gt; &#10;	&lt;li&gt;checkbox&#58; $&#33;checkbox&lt;/li&gt; &#10;	&lt;li&gt;file&#58; $&#33;file&lt;/li&gt; &#10;	&lt;li&gt;hidden&#58; $&#33;hidden&lt;/li&gt; &#10;	&lt;li&gt;password&#58; $&#33;password&lt;/li&gt; &#10;	&lt;li&gt;radio&#58; $&#33;radio&lt;/li&gt; &#10;	&lt;li&gt;select&#58; $&#33;select&lt;/li&gt; &#10;	&lt;li&gt;textarea&#58; $&#33;textarea&lt;/li&gt; &#10;	&lt;li&gt;textfield&#58; $&#33;textfield&lt;/li&gt; &#10;&lt;/ul&gt; &#10;&#10;&lt;/body&gt; &#10;&lt;/html&gt;</pre></div><p class="paragraph"><h3 class="heading3"> FormProcessingAction.java (same as lesson 4.1.1):</h3>
<div class="code"><pre><span class="java&#45;keyword">package</span> lesson04&#95;01&#95;01;&#10;&#10;<span class="java&#45;keyword">import</span> com.opensymphony.xwork.ActionSupport;&#10;&#10;<span class="java&#45;keyword">public</span> class FormProcessingAction <span class="java&#45;keyword">extends</span> ActionSupport &#123;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> checkbox;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> file;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> hidden;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> password;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> radio;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> select;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> textarea;&#10;	<span class="java&#45;keyword">private</span> <span class="java&#45;object">String</span> textfield;&#10;	&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getCheckbox() &#123; <span class="java&#45;keyword">return</span> checkbox; &#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getFile() &#123; <span class="java&#45;keyword">return</span> file; &#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getHidden() &#123; <span class="java&#45;keyword">return</span> hidden; &#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getPassword() &#123; <span class="java&#45;keyword">return</span> password; &#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getRadio() &#123; <span class="java&#45;keyword">return</span> radio; &#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getSelect() &#123; <span class="java&#45;keyword">return</span> select; &#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getTextarea() &#123; <span class="java&#45;keyword">return</span> textarea; &#125;&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> getTextfield() &#123; <span class="java&#45;keyword">return</span> textfield; &#125;&#10;	&#10;	<span class="java&#45;keyword">public</span> void setCheckbox(<span class="java&#45;object">String</span> checkbox) &#123; <span class="java&#45;keyword">this</span>.checkbox = checkbox; &#125;&#10;	<span class="java&#45;keyword">public</span> void setFile(<span class="java&#45;object">String</span> file) &#123; <span class="java&#45;keyword">this</span>.file = file; &#125;&#10;	<span class="java&#45;keyword">public</span> void setHidden(<span class="java&#45;object">String</span> hidden) &#123; <span class="java&#45;keyword">this</span>.hidden = hidden; &#125;&#10;	<span class="java&#45;keyword">public</span> void setPassword(<span class="java&#45;object">String</span> password) &#123; <span class="java&#45;keyword">this</span>.password = password; &#125;&#10;	<span class="java&#45;keyword">public</span> void setRadio(<span class="java&#45;object">String</span> radio) &#123; <span class="java&#45;keyword">this</span>.radio = radio; &#125;&#10;	<span class="java&#45;keyword">public</span> void setSelect(<span class="java&#45;object">String</span> select) &#123; <span class="java&#45;keyword">this</span>.select = select; &#125;&#10;	<span class="java&#45;keyword">public</span> void setTextarea(<span class="java&#45;object">String</span> textarea) &#123; <span class="java&#45;keyword">this</span>.textarea = textarea; &#125;&#10;	<span class="java&#45;keyword">public</span> void setTextfield(<span class="java&#45;object">String</span> textfield) &#123; <span class="java&#45;keyword">this</span>.textfield = textfield; &#125;&#10;	&#10;	<span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> execute() <span class="java&#45;keyword">throws</span> Exception &#123;&#10;		<span class="java&#45;keyword">return</span> SUCCESS;&#10;	&#125;&#10;&#125;</pre></div></p><h3 class="heading3"> FormProcessingAction-validation.xml (same as lesson 4.1.1):</h3>
<div class="code"><pre>&lt;&#33;DOCTYPE validators PUBLIC &quot;&#45;//OpenSymphony Group//XWork Validator &#10;1.0//EN&quot; &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;validator&#45;1.0.dtd&quot;&gt;&#10;&#10;&lt;validators&gt;&#10;  &lt;field name=&quot;checkbox&quot;&gt;&#10;    &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;      &lt;message&gt;Please, check the checkbox.&lt;/message&gt;&#10;    &lt;/field&#45;validator&gt;&#10;  &lt;/field&gt;&#10;&#10;  &lt;field name=&quot;file&quot;&gt;&#10;    &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;      &lt;message&gt;Please select a file.&lt;/message&gt;&#10;    &lt;/field&#45;validator&gt;&#10;  &lt;/field&gt;&#10;&#10;  &lt;field name=&quot;password&quot;&gt;&#10;    &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;      &lt;message&gt;Please type something in the password field.&lt;/message&gt;&#10;    &lt;/field&#45;validator&gt;&#10;  &lt;/field&gt;&#10;&#10;  &lt;field name=&quot;radio&quot;&gt;&#10;    &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;      &lt;message&gt;Please select a radio button.&lt;/message&gt;&#10;    &lt;/field&#45;validator&gt;&#10;  &lt;/field&gt;&#10;&#10;  &lt;field name=&quot;select&quot;&gt;&#10;    &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;      &lt;message&gt;Please select an option from the list.&lt;/message&gt;&#10;    &lt;/field&#45;validator&gt;&#10;  &lt;/field&gt;&#10;&#10;  &lt;field name=&quot;textarea&quot;&gt;&#10;    &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;      &lt;message&gt;Please type something in the text area.&lt;/message&gt;&#10;    &lt;/field&#45;validator&gt;&#10;  &lt;/field&gt;&#10;&#10;  &lt;field name=&quot;textfield&quot;&gt;&#10;    &lt;field&#45;validator type=&quot;requiredstring&quot;&gt;&#10;      &lt;message&gt;Please type something in the text field.&lt;/message&gt;&#10;    &lt;/field&#45;validator&gt;&#10;  &lt;/field&gt;&#10;&lt;/validators&gt;</pre></div>

<blockquote class="blockquote"> <a href="TutorialExamples.html">Try the example!</a></blockquote><p class="paragraph">&#8212;</p>The example above does not use the <tt class="monospaced">#param</tt> tag. So, let&#039;s revisit another example from <a href="TutorialLesson04-01-01.html">lesson 4.1.1</a> - custom components:<p class="paragraph"><h3 class="heading3"> ex03.vm:</h3>
<div class="code"><pre>&lt;html&gt; &#10;&lt;head&gt; &#10;&lt;title&gt;WebWork Tutorial &#45; Lesson 4.2 &#45; Example 3&lt;/title&gt; &#10;&lt;/head&gt; &#10;&#10;&lt;body&gt; &#10;&#10;&lt;p&gt;Custom Component Example&#58;&lt;/p&gt; &#10;&#10;&lt;p&gt; &#10;#bodytag (Component &quot;template=/files/templates/components/datefield.vm&quot;) &#10;	#param (&quot;label&quot; &quot;Date&quot;) &#10;	#param (&quot;name&quot; &quot;mydatefield&quot;) &#10;	#param (&quot;size&quot; &quot;3&quot;) &#10;#end &#10;&lt;/p&gt; &#10;&#10;&lt;/body&gt; &#10;&lt;/html&gt;</pre></div></p><h3 class="heading3"> /files/templates/components/datefield.vm (same as lesson 4.1.1):</h3>
<div class="code"><pre>#set ($name = $tag.params.get(&#039;name&#039;)) &#10;#set ($size = $tag.params.get(&#039;size&#039;)) &#10;#set ($yearSize = $size &#42; 2) &#10;&#10;$tag.params.get(&#039;label&#039;)&#58; &#10;&lt;input type=&quot;text&quot; name=&quot;$&#123;name&#125;.day&quot; size=&quot;$size&quot; /&gt; / &#10;&lt;input type=&quot;text&quot; name=&quot;$&#123;name&#125;.month&quot; size=&quot;$size&quot; /&gt; / &#10;&lt;input type=&quot;text&quot; name=&quot;$&#123;name&#125;.year&quot; size=&quot;$yearSize&quot; /&gt; (dd/mm/yyyy)</pre></div><p class="paragraph">Notice that, this time, we did not enclose <tt class="monospaced">Date</tt> and <tt class="monospaced">mydatefield</tt> with single quotes, as we had to do when we used the JSP tag.</p><blockquote class="blockquote"> <a href="TutorialExamples.html">Try the example!</a></blockquote><p class="paragraph"><hr class="line"/></p><a href="TutorialLesson04-01.html">Previous Lesson</a> | <a href="TutorialLesson04-03.html">Next Lesson</a>



				    
			    </td>
		    </tr>
	    </table>
    </body>
</html>
