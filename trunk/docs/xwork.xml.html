<html>
    <head>
        <title>xwork.xml</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">

				    <p class="paragraph"><h2 class="heading2"> Example</h2></p><div class="code"><pre>&lt;&#63;xml version=&quot;1.0&quot; encoding=&quot;ISO&#45;8859&#45;1&quot;&#63;&gt;&#10;&lt;&#33;DOCTYPE xwork &#10;          PUBLIC &#10;          &quot;&#45;//OpenSymphony Group//XWork 1.0//EN&quot; &#10;          &quot;http&#58;//www.opensymphony.com/xwork/xwork&#45;1.0.dtd&quot;&gt;&#10;&lt;xwork&gt;&#10;    &lt;include file=&quot;webwork&#45;default.xml&quot;/&gt;&#10;    &#10;    &lt;package name=&quot;default&quot; extends=&quot;webwork&#45;default&quot;&gt;&#10;&#10;        &lt;interceptors&gt;&#10;            &lt;interceptor&#45;stack name=&quot;defaultComponentStack&quot;&gt;&#10;                &lt;interceptor&#45;ref name=&quot;component&quot;/&gt;&#10;                &lt;interceptor&#45;ref name=&quot;defaultStack&quot;/&gt;&#10;            &lt;/interceptor&#45;stack&gt;&#10;        &lt;/interceptors&gt;&#10;&#10;        &lt;default&#45;interceptor&#45;ref name=&quot;defaultStack&quot;/&gt;&#10;&#10;        &lt;action name=&quot;SimpleCounter&quot; class=&quot;com.opensymphony.webwork.example.counter.SimpleCounter&quot;&gt;&#10;            &lt;result name=&quot;success&quot; type=&quot;dispatcher&quot;&gt;/success.jsp&lt;/result&gt;&#10;            &lt;interceptor&#45;ref name=&quot;defaultComponentStack&quot;/&gt;&#10;        &lt;/action&gt;&#10;&#10;        &lt;&#33;&#45;&#45;&#10;          &#45; Velocity implementation of the SimpleCounter.  Also demonstrate a more verbose version of result element&#10;          &#45;&#45;&gt;&#10;        &lt;action name=&quot;VelocityCounter&quot; class=&quot;com.opensymphony.webwork.example.counter.SimpleCounter&quot;&gt;&#10;            &lt;result name=&quot;success&quot; type=&quot;velocity&quot;&gt;&#10;                &lt;param name=&quot;location&quot;&gt;/success.vm&lt;/param&gt;&#10;            &lt;/result&gt;&#10;            &lt;interceptor&#45;ref name=&quot;defaultComponentStack&quot;/&gt;&#10;        &lt;/action&gt;&#10;&#10;        &lt;&#33;&#45;&#45;&#10;            &#45; Different method can be used (processForm). &#10;            &#45;&#45;&gt;&#10;        &lt;action name=&quot;formTest&quot; class=&quot;com.opensymphony.webwork.example.FormAction&quot; method=&quot;processForm&quot; &gt;&#10;            &lt;result name=&quot;success&quot; type=&quot;dispatcher&quot;&gt;/formSuccess.jsp&lt;/result&gt;&#10;            &lt;result name=&quot;invalid.token&quot; type=&quot;dispatcher&quot;&gt;/form.jsp&lt;/result&gt;&#10;            &lt;interceptor&#45;ref name=&quot;defaultStack&quot;/&gt;&#10;            &lt;interceptor&#45;ref name=&quot;token&quot;/&gt;&#10;        &lt;/action&gt;&#10;&#10;    &lt;/package&gt;&#10;&lt;/xwork&gt;</pre></div><p class="paragraph"><h2 class="heading2"> Actions</h2></p><div class="code"><pre>&lt;action name=&quot;formTest&quot; class=&quot;com.opensymphony.webwork.example.FormAction&quot; method=&quot;processForm&quot;&gt;</pre></div><p class="paragraph">Actions are the basic &quot;unit-of-work&quot; in WebWork, they define, well, actions. An action will usually be a request, (and usually a button click, or form submit). The main action element (tag is too synonymous with JSP) has two parts, the friendly name (referenced in the URL, i.e. saveForm.action) and the corresponding &quot;handler&quot; class.</p>The optional &quot;<b class="strong">method</b>&quot; parameter tells WebWork which method to call based upon this action. If you leave the method parameter blank, WebWork will call the method <b class="strong">execute()</b> by default. If there is no execute() method and no method specified in the xml file, WebWork will throw an exception.   <p class="paragraph">Also, you can tell WebWork to invoke &quot;<b class="strong">doSomething</b>&quot;  method in your action by using the pattern &quot;<b class="strong">actionName!something</b>&quot; in your form.  For example, &quot;<b class="strong">formTest!save.action</b>&quot; will invoke the method &quot;<b class="strong">save</b>&quot; in FormAction class.  The method must be public and take no arguments:</p><div class="code"><pre><span class="java&#45;keyword">public</span> <span class="java&#45;object">String</span> save() <span class="java&#45;keyword">throws</span> Exception&#10;  &#123;&#10;      ...&#10;      <span class="java&#45;keyword">return</span> SUCCESS;&#10;  &#125;</pre></div><p class="paragraph">All the configuration for &quot;<b class="strong">actionName</b>&quot; will be used for &quot;actionName!something&quot; (interceptors, result types, etc...)</p><h2 class="heading2"> Results</h2>
<div class="code"><pre>&lt;result name=&quot;missing&#45;data&quot; type=&quot;dispatcher&quot;&gt;&#10;    &lt;param name=&quot;location&quot;&gt;/form.jsp&lt;/param&gt;&#10;    &lt;param name=&quot;parameterA&quot;&gt;A&lt;/param&gt;&#10;    &lt;param name=&quot;parameterB&quot;&gt;B&lt;/param&gt;&#10;&lt;/result&gt;</pre></div><p class="paragraph">Result tags tell WebWork what to do next after the action has been called.   The &quot;name&quot; attribute maps to the result code returned from the action execute() method.  The &quot;type&quot; attribute indicates what result type class to use (see <a href="Result Types.html">Result Types</a>).  The &quot;param&quot; elements allow you to pass parameters to<br/>
the view:
<div class="code"><pre>&lt;result&#45;types&gt;&#10;     ....&#10;    &lt;result&#45;type name=&quot;header&quot;                    &#10;         class=&quot;com.opensymphony.webwork.dispatcher.HttpHeaderResult&quot;/&gt;&#10;		&#10;&lt;/result&#45;types&gt;&#10;&#10;&lt;result name=&quot;no&#45;content&quot; type=&quot;header&quot;&gt;&#10;    &lt;param name=&quot;status&quot;&gt;204&lt;/param&gt;&#10;    &lt;param name=&quot;headers.customHeaderA&quot;&gt;A&lt;/param&gt;&#10;    &lt;param name=&quot;headers.customHeaderB&quot;&gt;B&lt;/param&gt;&#10;&lt;/result&gt;</pre></div></p>There are a standard set of result codes built-in to WebWork, (in the Action interface) they include:
<div class="code"><pre>Action.SUCCESS = &quot;success&quot;;&#10;Action.NONE    = &quot;none&quot;;&#10;Action.ERROR   = &quot;error&quot;;&#10;Action.INPUT   = &quot;input&quot;;&#10;Action.LOGIN   = &quot;login&quot;;</pre></div><p class="paragraph">You can extend these result codes as you see fit (i.e &quot;missing-data&quot;). Most of the time you will have either SUCCESS or ERROR, with SUCCESS moving on to the next page in your application.</p>If you only need to specify the &quot;location&quot; parameter, you can use the short form:
<div class="code"><pre>&lt;result name=&quot;missing&#45;data&quot; type=&quot;dispatcher&quot;&gt;/form.jsp&lt;/result&gt;</pre></div><p class="paragraph">See <a href="webwork-default.xml.html">webwork-default.xml</a> or <a href="Result Types.html">Result Types</a> for standard result types.</p><h2 class="heading2"> Interceptors</h2><p class="paragraph">Interceptors allow you to define code to be executed before and/or after the execution of an action. Interceptors can be a powerful tool when writing web applications. Some of the most common implementations of an Interceptor might be: <ul class="star">
<li> Security Checking (ensuring the user is logged in)</li>
<li> Trace Logging (logging every action)</li>
<li> Bottleneck Checking (start a timer before and after every action, to check bottlenecks in your application)<br/>
You can also chain Interceptors together to create an interceptor <b class="strong">stack</b>. If you wanted to do a login check, security check, and logging all before an Action call, this could easily be done with an interceptor package.
</li>
</ul><br/>
Intercepters must first be defined (to give name them) and can be chained together as a stack:</p><div class="code"><pre>&lt;interceptors&gt;&#10;  &lt;interceptor name=&quot;security&quot; class=&quot;com.mycompany.security.SecurityInterceptor&quot;/&gt;&#10;  &lt;interceptor&#45;stack name=&quot;defaultComponentStack&quot;&gt;&#10;    &lt;interceptor&#45;ref name=&quot;component&quot;/&gt;&#10;    &lt;interceptor&#45;ref name=&quot;defaultStack&quot;/&gt;&#10;  &lt;/interceptor&#45;stack&gt;&#10;&lt;/interceptors&gt;</pre></div><p class="paragraph">To use them in your actions:
<div class="code"><pre>&lt;action name=&quot;VelocityCounter&quot; class=&quot;com.opensymphony.webwork.example.counter.SimpleCounter&quot;&gt;&#10;   &lt;result name=&quot;success&quot;&gt;...&lt;/result&gt;&#10;   &lt;interceptor&#45;ref name=&quot;defaultComponentStack&quot;/&gt;&#10;&lt;/action&gt;</pre></div></p>NOTE: Reference name can be either the name of the interceptor or the name of a stack<p class="paragraph">For more details, see <a href="Interceptors.html">Interceptors</a> reference.</p><h2 class="heading2"> Views</h2><p class="paragraph">WebWork supports JSP and Velocity for your application presentation layer. For this example we will use a JSP file. Webwork comes packaged with a tag library (taglibs). You can use these taglibs as components in your JSP file. Here is an section of our form.jsp page:</p><div class="code"><pre>&lt;&#37;&#64; taglib prefix=&quot;ww&quot; uri=&quot;webwork&quot; &#37;&gt;&#10;&lt;html&gt;&#10;&lt;head&gt;&lt;title&gt;Webwork Form Example&lt;/title&gt;&lt;/head&gt;&#10;&lt;body&gt;&#10;   &lt;ww&#58;form name=&quot;myForm&quot; action=&quot;&#039;formTest&#039;&quot; namespace=&quot;/&quot; method=&quot;POST&quot;&gt;&#10;  &lt;table&gt;&#10;    &lt;ww&#58;textfield label=&quot;First Name&quot; name=&quot;&#039;formBean.firstName&#039;&quot; value=&quot;formBean.firstName&quot;/&gt;&#10;    &lt;ww&#58;textfield label=&quot;Last Name&quot; name=&quot;&#039;formBean.lastName&#039;&quot; value=&quot;formBean.lastName&quot;/&gt;&#10;    &lt;ww&#58;submit value=&quot;Save Form&quot;/&gt;&#10;  &lt;/table&gt;&#10;&lt;/ww&#58;form&gt;&#10;&lt;/body&gt;</pre></div><p class="paragraph">The process of events will go as follows:
<ol>
<li> WebWork will take notice since the URI ends in <b class="strong">.action</b> (defined in <b class="strong">web.xml</b> files)</li>
<li> WebWork will look up the action <b class="strong">formTest</b> in its action hierarchy and call any Interceptors that might have been defined.</li>
<li> WebWork will translate <b class="strong">formTest</b> and decide to call the method <b class="strong">processForm</b> in the class <b class="strong">com.opensymphony.webwork.example.FormAction</b> as defined in <b class="strong">xwork.xml</b> file.</li>
<li> The method will process successfully and give WebWork the <b class="strong">SUCCESS</b> return parameter.</li>
<li> WebWork will translate the <b class="strong">SUCCESS</b> return parameter into the location <b class="strong">formSuccess.jsp</b> (as defined in <b class="strong">xwork.xml</b>) and redirect accordingly.</li>
</ol>
<h2 class="heading2"> Include</h2></p>To make it easy to manage large scale development (lots of actions +  configuration), WebWork allows you to include other configuration files from xwork.xml :

<div class="code"><pre>&lt;xwork&gt;&#10;    &lt;include file=&quot;webwork&#45;default.xml&quot;/&gt;&#10;    &lt;include file=&quot;user.xml&quot;/&gt;&#10;    &lt;include file=&quot;shoppingcart.xml&quot;/&gt;&#10;    &lt;include file=&quot;product.xml&quot;/&gt;&#10;    ....&#10;&lt;/xwork&gt;</pre></div><p class="paragraph">The included files must be the same format as xwork.xml (with the doctype and everything) and be placed on classpath (usually in /WEB-INF/classes or jar files in /WEB-INF/lib).</p>Most of the content here provided by Matt Dowell &lt;matt.dowell@notiva.com&gt;

				    
			    </td>
		    </tr>
	    </table>
    </body>
</html>
