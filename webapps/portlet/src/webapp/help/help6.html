<html>
    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            WebWork : WebWork Register - Example 6
                                                    </span>
				    </div>
				    <p class="paragraph"><h2 style="margin: 4px 0px 4px 0px;" class="heading2"><a name="WebWorkRegister-Example6-Thesampledescription"> The sample description</a></h2>
This sample demo how to use validation function in wwportlet framework, actually usage is same as webwork native support.</p><h2 class="heading2"><a name="WebWorkRegister-Example6-Thesampleinclude"> The sample include </a></h2>
<ul class="star">
<li> two view files: registerSupport.vm &amp; registerResult.vm</li>
<li> one xwork configuration file: xwork.xml</li>
<li> one xwork action java file: RegisterActionSupport.java</li>
<li> one validation configuration file: RegisterActionSupport-validation.xml in java class path.</li>
</ul>
<h2 class="heading2"><a name="WebWorkRegister-Example6-Hereisthesamplelist"> Here is the sample list</a></h2>

<div class="code" style="border-style: solid; "><div class="codeHeader" style="border-bottom-style: solid; "><b>registerSupport.vm</b></div><div class="codeContent">
<pre>&lt;html&gt; &#10;&lt;head&gt; &#10;&lt;title&gt;&#87;ebWork Register &#45; Example 6&lt;/title&gt; &#10;&lt;meta name=<span class="java&#45;quote">&quot;help&#45;path&quot;</span> content=<span class="java&#45;quote">&quot;/help/help6.html&quot;</span>/&gt; &#10;&lt;/head&gt; &#10;&lt;body&gt; &#10;&lt;table border=0 width=97&#37;&gt;&#10;&lt;tr&gt;&lt;td align=<span class="java&#45;quote">&quot;left&quot;</span>&gt;&#10; #wwform (<span class="java&#45;quote">&quot;name=test&quot;</span>&#160;<span class="java&#45;quote">&quot;action=/registerSupport.action&quot;</span>&#160;<span class="java&#45;quote">&quot;method=POST&quot;</span>)&#10;   #wwtextfield (<span class="java&#45;quote">&quot;label=Username&quot;</span>&#160;<span class="java&#45;quote">&quot;name=user.username&quot;</span>&#160;<span class="java&#45;quote">&quot;required=<span class="java&#45;keyword">true</span>&quot;</span>)&#10;   #wwtextfield (<span class="java&#45;quote">&quot;label=Password&quot;</span>&#160;<span class="java&#45;quote">&quot;name=user.password&quot;</span>&#160;<span class="java&#45;quote">&quot;required=<span class="java&#45;keyword">true</span>&quot;</span>)&#10;   #wwtextfield (<span class="java&#45;quote">&quot;label=&#86;erifyPassword&quot;</span>&#160;<span class="java&#45;quote">&quot;name=verifyPassword&quot;</span>&#160;<span class="java&#45;quote">&quot;required=<span class="java&#45;keyword">true</span>&quot;</span>)&#10;   #wwtextfield (<span class="java&#45;quote">&quot;label=Email&quot;</span>&#160;<span class="java&#45;quote">&quot;name=user.email&quot;</span>&#160;<span class="java&#45;quote">&quot;required=<span class="java&#45;keyword">true</span>&quot;</span>)&#10;   #wwtextfield (<span class="java&#45;quote">&quot;label=Age&quot;</span>&#160;<span class="java&#45;quote">&quot;name=user.age&quot;</span>&#160;<span class="java&#45;quote">&quot;required=<span class="java&#45;keyword">true</span>&quot;</span>)&#10;   #wwsubmit (<span class="java&#45;quote">&quot;value=Submit&quot;</span>)&#10; #end&#10;&lt;/td&gt;&lt;/tr&gt;&#10;&lt;/table&gt;&lt;br/&gt;&#10;&lt;/body&gt; &#10;&lt;/html&gt;</pre>
</div></div><br/>


<div class="code" style="border-style: solid; "><div class="codeHeader" style="border-bottom-style: solid; "><b>registerResult.vm</b></div><div class="codeContent">
<pre>&lt;html&gt;&#10;&lt;head&gt;&lt;title&gt;&#87;ebWork Register &#45; Example 6 &#45; Register result&lt;/title&gt;&#10;&lt;meta name=<span class="java&#45;quote">&quot;help&#45;path&quot;</span> content=<span class="java&#45;quote">&quot;/help/help6.html&quot;</span>/&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10; &lt;table border=0 width=97&#37;&gt;&#10;  &lt;tr&gt;&#10;    &lt;td align=<span class="java&#45;quote">&quot;left&quot;</span>&gt;&#10;     Congratulation,your register success&#33;&lt;p&gt;&#10;     Username:$&#33;user.username&lt;br&gt;&#10;     Password:$&#33;user.password&lt;br&gt;&#10;     Email:$&#33;user.email&lt;br&gt;&#10;     Age:$&#33;user.age&lt;br&gt;&#10;    &lt;/td&gt;&#10;   &lt;/tr&gt;&#10; &lt;/table&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;</pre>
</div></div><br/>


<div class="code" style="border-style: solid; "><div class="codeHeader" style="border-bottom-style: solid; "><b>RegisterActionSupport.java</b></div><div class="codeContent">
<pre><span class="java&#45;keyword">package</span> com.test;&#10;<span class="java&#45;keyword">import</span> com.opensymphony.xwork.&#65;ctionSupport;&#10;<span class="java&#45;keyword">import</span> com.test.bo.User;&#10;<span class="java&#45;keyword">public</span> class &#82;egisterActionSupport <span class="java&#45;keyword">extends</span> &#65;ctionSupport &#123;&#10;	<span class="java&#45;keyword">private</span> User user= <span class="java&#45;keyword">new</span> User();&#10;	<span class="java&#45;keyword">private</span>&#160;<span class="java&#45;object">String</span> verifyPassword;&#10;	<span class="java&#45;keyword">public</span> User getUser()&#123;&#10;		<span class="java&#45;keyword">return</span>&#160;<span class="java&#45;keyword">this</span>.user;&#10;	&#125;&#10;	<span class="java&#45;keyword">public</span>&#160;<span class="java&#45;object">String</span> execute()&#123;&#10;		<span class="java&#45;keyword">return</span> SUCCESS;&#10;	&#125;&#10;	<span class="java&#45;keyword">public</span>&#160;<span class="java&#45;object">String</span> getVerifyPassword()&#123;&#10;		<span class="java&#45;keyword">return</span>&#160;<span class="java&#45;keyword">this</span>.verifyPassword;&#10;	&#125;	&#10;	<span class="java&#45;keyword">public</span> void setVerifyPassword(<span class="java&#45;object">String</span> verPassword)&#123;&#10;		<span class="java&#45;keyword">this</span>.verifyPassword = verPassword;&#10;	&#125;&#10;&#125;</pre>
</div></div><br/>


<div class="code" style="border-style: solid; "><div class="codeHeader" style="border-bottom-style: solid; "><b>xwork.xml code snippet</b></div><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;xwork&gt;</span>&#10;  <span class="xml&#45;tag">&lt;include file=<span class="xml&#45;quote">&quot;webwork-portlet-default.xml&quot;</span> /&gt;</span>&#10;    <span class="xml&#45;tag">&lt;package name=<span class="xml&#45;quote">&quot;default&quot;</span> extends=<span class="xml&#45;quote">&quot;webwork&#45;default&quot;</span>&gt;</span>&#10;       <span class="xml&#45;tag">&lt;interceptors&gt;</span>&#10;	 <span class="xml&#45;tag">&lt;interceptor&#45;stack name=<span class="xml&#45;quote">&quot;standard&#45;interceptors&quot;</span>&gt;</span>&#10;	    <span class="xml&#45;tag">&lt;interceptor&#45;ref name=<span class="xml&#45;quote">&quot;static&#45;params&quot;</span> /&gt;</span>&#10;	    <span class="xml&#45;tag">&lt;interceptor&#45;ref name=<span class="xml&#45;quote">&quot;params&quot;</span> /&gt;</span>&#10;	    <span class="xml&#45;tag">&lt;interceptor&#45;ref name=<span class="xml&#45;quote">&quot;conversionError&quot;</span> /&gt;</span>&#10;	 <span class="xml&#45;tag">&lt;/interceptor&#45;stack&gt;</span>&#10;       <span class="xml&#45;tag">&lt;/interceptors&gt;</span>&#10;       ....&#10;       <span class="xml&#45;tag">&lt;action name=<span class="xml&#45;quote">&quot;registerSupport&quot;</span> class=<span class="xml&#45;quote">&quot;com.test.&#82;egisterActionSupport&quot;</span>&gt;</span>&#10;	<span class="xml&#45;tag">&lt;result name=<span class="xml&#45;quote">&quot;success&quot;</span> type=<span class="xml&#45;quote">&quot;dispatcher&quot;</span>&gt;</span>&#10;	   <span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;location&quot;</span>&gt;</span>/registerResult.vm<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;	<span class="xml&#45;tag">&lt;/result&gt;</span>&#10;	<span class="xml&#45;tag">&lt;result name=<span class="xml&#45;quote">&quot;input&quot;</span> type=<span class="xml&#45;quote">&quot;dispatcher&quot;</span>&gt;</span>&#10;	   <span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;location&quot;</span>&gt;</span>/registerSupport.vm<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;	<span class="xml&#45;tag">&lt;/result&gt;</span>&#10;	<span class="xml&#45;tag">&lt;interceptor&#45;ref name=<span class="xml&#45;quote">&quot;validationWorkflowStack&quot;</span> /&gt;</span>&#10;       <span class="xml&#45;tag">&lt;/action&gt;</span>&#10;    <span class="xml&#45;tag">&lt;/package&gt;</span>&#10;<span class="xml&#45;tag">&lt;/xwork&gt;</span></pre>
</div></div><br/>

<div class="code" style="border-style: solid; "><div class="codeHeader" style="border-bottom-style: solid; "><b>RegisterActionSupport-validation.xml in java classh path</b></div><div class="codeContent">
<pre><span class="xml&#45;tag">&lt;&#33;DOCTYPE validators PUBLIC <span class="xml&#45;quote">&quot;...&quot;</span>&gt;</span>&#10;<span class="xml&#45;tag">&lt;validators&gt;</span>&#10;    <span class="xml&#45;tag">&lt;field name=<span class="xml&#45;quote">&quot;user.username&quot;</span>&gt;</span>&#10;    	<span class="xml&#45;tag">&lt;field&#45;validator type=<span class="xml&#45;quote">&quot;requiredstring&quot;</span>&gt;</span>&#10;            <span class="xml&#45;tag">&lt;message&gt;</span>You must enter a value for username.<span class="xml&#45;tag">&lt;/message&gt;</span>&#10;        <span class="xml&#45;tag">&lt;/field&#45;validator&gt;</span>&#10;    <span class="xml&#45;tag">&lt;/field&gt;</span>&#10;    <span class="xml&#45;tag">&lt;field name=<span class="xml&#45;quote">&quot;user.password&quot;</span>&gt;</span>&#10;    	<span class="xml&#45;tag">&lt;field&#45;validator type=<span class="xml&#45;quote">&quot;requiredstring&quot;</span>&gt;</span>&#10;            <span class="xml&#45;tag">&lt;message&gt;</span>You must enter a value for password.<span class="xml&#45;tag">&lt;/message&gt;</span>&#10;        <span class="xml&#45;tag">&lt;/field&#45;validator&gt;</span>&#10;        <span class="xml&#45;tag">&lt;field&#45;validator type=<span class="xml&#45;quote">&quot;fieldexpression&quot;</span>&gt;</span>&#10;            <span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;expression&quot;</span>&gt;</span>user.password == verifyPassword<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;            <span class="xml&#45;tag">&lt;message&gt;</span>Passwords don&#039;t match.<span class="xml&#45;tag">&lt;/message&gt;</span>&#10;        <span class="xml&#45;tag">&lt;/field&#45;validator&gt;</span>&#10;    <span class="xml&#45;tag">&lt;/field&gt;</span>&#10;    <span class="xml&#45;tag">&lt;field name=<span class="xml&#45;quote">&quot;user.email&quot;</span>&gt;</span>&#10;    	<span class="xml&#45;tag">&lt;field&#45;validator type=<span class="xml&#45;quote">&quot;email&quot;</span>&gt;</span>&#10;            <span class="xml&#45;tag">&lt;message&gt;</span>You must enter a valid email.<span class="xml&#45;tag">&lt;/message&gt;</span>&#10;        <span class="xml&#45;tag">&lt;/field&#45;validator&gt;</span>&#10;    <span class="xml&#45;tag">&lt;/field&gt;</span>&#10;    <span class="xml&#45;tag">&lt;field name=<span class="xml&#45;quote">&quot;user.age&quot;</span>&gt;</span>&#10;    	<span class="xml&#45;tag">&lt;field&#45;validator type=<span class="xml&#45;quote">&quot;int&quot;</span>&gt;</span>&#10;            <span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;min&quot;</span>&gt;</span>6<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;            <span class="xml&#45;tag">&lt;param name=<span class="xml&#45;quote">&quot;max&quot;</span>&gt;</span>100<span class="xml&#45;tag">&lt;/param&gt;</span>&#10;            <span class="xml&#45;tag">&lt;message&gt;</span>Age must be between $&#123;min&#125; and $&#123;max&#125;, current value is $&#123;user.age&#125;.<span class="xml&#45;tag">&lt;/message&gt;</span>&#10;        <span class="xml&#45;tag">&lt;/field&#45;validator&gt;</span>&#10;    <span class="xml&#45;tag">&lt;/field&gt;</span>&#10;<span class="xml&#45;tag">&lt;/validators&gt;</span></pre>
</div></div>


				    
                    			    </td>
		    </tr>
	    </table>
    </body>
</html>