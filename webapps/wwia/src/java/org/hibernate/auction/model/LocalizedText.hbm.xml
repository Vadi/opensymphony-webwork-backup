<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
	"-//Hibernate/Hibernate Mapping DTD 2.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">
<hibernate-mapping package="org.hibernate.auction.model">
    <class name="LocalizedText"
	   table="LOCALIZED_TEXT" lazy="true">
		<!-- Common id property. -->
        <id name="id"
            type="long"
            column="TEXT_ID"
            unsaved-value="null"
            access="org.hibernate.auction.persistence.DirectSetAccessor">
            <generator class="native"/>
        </id>
		<!-- Key of the text is immutable. -->
	    <property   name="key"
				type="string"
                index="INDEX_LOCALIZED_TEXT_KEY"
				column="KEY"
				length="100"
				not-null="true"
				update="false"
				access="org.hibernate.auction.persistence.DirectSetAccessor"/>
		<property name="text"
                type="string"
                column="TEXT"
                length="255"
				not-null="true"
				update="true"
				access="org.hibernate.auction.persistence.DirectSetAccessor"/>
		<!-- We can't change the locale. -->
	    <property   name="localeStr"
				type="string"
                index="INDEX_LOCALIZED_TEXT_LOCALE"
				column="LOCALE"
				length="10"
				not-null="true"
				update="false"/>
	</class>
    <query name="localeTexts"><![CDATA[
	select text from LocalizedText text where text.localeStr = :localeStr
]]></query>
    <query name="aText"><![CDATA[
	select text from LocalizedText text where text.localeStr = :localeStr and text.key = :key
]]></query>
    <query name="textsForKey"><![CDATA[
	select text from LocalizedText text where text.key = :key
]]></query>
</hibernate-mapping>
